---
sidebar_position: 4
title: "⚙️ Параметры чата"
---

В Open WebUI существуют три уровня настройки **Системного запроса** и **Расширенных параметров**: для конкретного чата, для конкретной модели и для конкретного аккаунта. Эта иерархическая система обеспечивает гибкость, сохраняя при этом структурированное управление и контроль.

## Системный запрос и иерархия расширенных параметров

| **Уровень** | **Определение** | **Разрешения на изменение** | **Возможности переопределения** |
| --- | --- | --- | --- |
| **Для чата** | Системный запрос и расширенные параметры для конкретного экземпляра чата | Пользователи могут изменять, но не могут переопределить параметры, специфичные для модели | Ограничено от переопределения настроек, специфичных для модели |
| **Для аккаунта** | Системный запрос по умолчанию и расширенные параметры для конкретного аккаунта пользователя | Пользователи могут устанавливать, но могут быть переопределены настройками, специфичными для модели | Настройки пользователя могут быть переопределены настройками, специфичными для модели |
| **Для модели** | Системный запрос по умолчанию и расширенные параметры для конкретной модели | Администраторы могут устанавливать, пользователи не могут изменять | Настройки администратора имеют приоритет, настройки пользователя могут быть переопределены |

### 1. **На уровне чата:**

- **Описание**: Настройка на уровне чата относится к системному запросу и расширенным параметрам, настроенным для конкретного экземпляра чата. Эти настройки применимы только к текущему разговору и не влияют на будущие чаты.
- **Как настроить**: Пользователи могут изменять системный запрос и расширенные параметры для конкретного экземпляра чата в разделе **Управление чатом** на правой панели Open WebUI.
- **Возможности переопределения**: Пользователи ограничены в переопределении **Системного запроса** или конкретных **Расширенных параметров**, уже установленных администратором на уровне модели (**#2**). Это гарантирует согласованность и соблюдение настроек, специфичных для модели.

<details>
<summary>Пример использования</summary>
:::tip **На уровне чата**:
Допустим, пользователь хочет установить пользовательский системный запрос для конкретного разговора. Он может сделать это, зайдя в раздел **Управление чатом** и изменив поле **Системный запрос**. Эти изменения будут применяться только к текущему сеансу чата.
:::
</details>

### 2. **На уровне аккаунта:**

- **Описание**: Настройка на уровне аккаунта относится к системному запросу по умолчанию и расширенным параметрам, настроенным для конкретного аккаунта пользователя. Любые изменения, внесенные пользователем, могут служить резервным вариантом в ситуациях, когда настройки нижнего уровня не определены.
- **Как настроить**: Пользователи могут устанавливать свой собственный системный запрос и расширенные параметры для своего аккаунта в разделе **Общие** меню **Настройки** в Open WebUI.
- **Возможности переопределения**: Пользователи могут установить собственный системный запрос для своего аккаунта, но они должны знать, что такие параметры могут быть переопределены, если администратор уже установил **Системный запрос** или конкретные **Расширенные параметры** на уровне модели, используемой в данный момент.

<details>
<summary>Пример использования</summary>
:::tip **На уровне аккаунта**:
Допустим, пользователь хочет установить собственный системный запрос для своего аккаунта. Он может сделать это, зайдя в меню **Настройки** и изменив поле **Системный запрос**.
:::
</details>

### 3. **На уровне модели:**

- **Описание**: Настройка на уровне модели относится к системному запросу по умолчанию и расширенным параметрам, настроенным для конкретной модели. Эти настройки применимы ко всем экземплярам чатов, использующим данную модель.
- **Как настроить**: Администраторы могут установить системный запрос по умолчанию и расширенные параметры для конкретной модели в разделе **Модели** в **Рабочем пространстве** Open WebUI.
- **Возможности переопределения**: **Пользовательские** аккаунты ограничены в модификации **Системного запроса** или конкретных **Расширенных параметров** на уровне модели (**#3**). Это ограничение предотвращает непреднамеренные изменения настроек по умолчанию пользователями.
- **Сохранение длины контекста:** Когда **Системный запрос** или конкретные **Расширенные параметры** модели настроены вручную в разделе **Рабочее пространство** администратором, указанный **Системный запрос** или вручную установленные **Расширенные параметры** не могут быть переопределены или изменены на уровне аккаунта в разделе **Общие настройки** или в разделе **Управление чатом** пользователем. Это обеспечивает единообразие и предотвращает чрезмерную перезагрузку модели при изменении пользователем настройки длины контекста.
- **Приоритет модели:** Если значение **Системного запроса** или конкретного **Расширенного параметра** модели задано в разделе Рабочее пространство администратором, любые изменения длины контекста, внесенные пользователем на уровне аккаунта в разделе **Общие настройки** или **Управление чатом**, будут проигнорированы, сохраняя заранее установленное значение для этой модели. Однако параметры, оставленные без изменений администратором, все еще могут быть вручную настроены пользователем на уровне аккаунта или чата.

<details>
<summary>Пример использования</summary>
:::tip **На основе модели**:
Предположим, администратор хочет установить системную подсказку по умолчанию для определённой модели. Это можно сделать, зайдя в раздел **Модели** и изменив поле **Системная подсказка** для соответствующей модели. Любые сеансы чата, использующие эту модель, автоматически будут использовать системную подсказку и расширенные параметры этой модели.
:::
</details>


## **Оптимизация настроек системной подсказки для максимальной гибкости**

:::tip **Дополнительные советы**
**Этот совет применим как для администраторов, так и для учётных записей пользователей. Чтобы достичь максимальной гибкости в настройках системных подсказок, рекомендуем рассмотреть следующую конфигурацию:**

- Назначьте вашу основную системную подсказку (**например, для придания определённого характера LLM**), которую вы хотите использовать, в поле **System Prompt** в общих настройках (**General**). Это устанавливает её на уровне учётной записи и позволяет системе работать с этой подсказкой для всех ваших LLM без необходимости дополнительных настроек модели в разделе **Рабочая зона**.

- Для вторичной системной подсказки (**например, для задания задачи LLM**) выберите, где её разместить: в поле **System Prompt** на боковой панели **Чат-контролей** (на уровне чата) или в разделе **Модели** в **Рабочей зоне** (на уровне модели) для администраторов, что позволяет задавать их напрямую. Это даёт возможность системной подсказке на уровне учётной записи работать совместно с системной подсказкой на уровне чата, предоставленной **Чат-контролями**, или с подсказкой на уровне модели, заданной в разделе **Модели**.

- Как администратор, вы должны назначить параметры LLM на уровне модели, используя раздел **Модели**, для достижения оптимальной гибкости. Для этих двух вторичных системных подсказок убедитесь, что они настроены таким образом, чтобы максимально повысить гибкость и минимизировать необходимость корректировок для различных учётных записей или чатов. Важно, чтобы как ваша администраторская учётная запись, так и все пользовательские учётные записи понимали порядок приоритетов, по которому системные подсказки из **Чат-контролей** и раздела **Модели** будут применяться к **LLM**.
:::
