---
sidebar_position: 300 
title: "üîÑ Actualizando Open WebUI"
---



## ¬øPor qu√© no se actualiza mi Open WebUI?

Para actualizar tu instalaci√≥n local de Docker de Open WebUI a la √∫ltima versi√≥n disponible, puedes usar **Watchtower** o actualizar manualmente el contenedor. Sigue cualquiera de los pasos proporcionados a continuaci√≥n para actualizar la imagen existente de Open WebUI.

### Actualizaci√≥n Manual

1. **Det√©n y elimina el contenedor actual**:

   Esto detendr√° el contenedor en ejecuci√≥n y lo eliminar√°, pero no borrar√° los datos almacenados en el volumen de Docker. (Sustituye `open-webui` por el nombre de tu contenedor durante el proceso de actualizaci√≥n si es diferente para ti).

```bash
docker rm -f open-webui
```

2. **Descarga la √∫ltima imagen de Docker**:

   Esto actualizar√° la imagen de Docker, pero no actualizar√° el contenedor en ejecuci√≥n ni sus datos.

```bash
docker pull ghcr.io/open-webui/open-webui:main
```


:::info
**Elimina cualquier dato existente en el volumen de Docker (NO RECOMENDADO A MENOS QUE SEA ABSOLUTAMENTE NECESARIO)**. Omite este paso completamente si no es necesario y pasa al √∫ltimo paso:

   Si deseas empezar desde cero, puedes eliminar los datos existentes en el volumen de Docker. Ten cuidado, ya que esto eliminar√° todos tus historiales de chat y otros datos.

   Los datos se almacenan en un volumen de Docker llamado `open-webui`. Puedes eliminarlo con el siguiente comando:

```bash
docker volume rm open-webui
```
:::

3. **Inicia nuevamente el contenedor con la imagen actualizada y el volumen existente adjunto**:

   Si no eliminaste los datos existentes, esto iniciar√° el contenedor con la imagen actualizada y los datos existentes. Si eliminaste los datos existentes, esto iniciar√° el contenedor con la imagen actualizada y un volumen nuevo y vac√≠o. **Para soporte de GPU Nvidia, agrega `--gpus all` al comando docker run**

```bash
docker run -d -p 3000:8080 -v open-webui:/app/backend/data --name open-webui ghcr.io/open-webui/open-webui:main
```

## ¬øSigues siendo desconectado despu√©s de cada actualizaci√≥n?
Si te encuentras desconectado despu√©s de cada actualizaci√≥n, aseg√∫rate de que `WEBUI_SECRET_KEY` est√© configurado en tus variables de entorno. Sin esta clave definida de manera consistente, tus sesiones de autenticaci√≥n pueden invalidarse despu√©s de las actualizaciones.

Para establecer `WEBUI_SECRET_KEY` de manera persistente, incl√∫yelo al ejecutar tu contenedor de Docker:

```bash
docker run -d -p 3000:8080 -v open-webui:/app/backend/data --name open-webui -e WEBUI_SECRET_KEY=your_secret_key ghcr.io/open-webui/open-webui:main
```

O, si utilizas **docker-compose**, agr√©galo bajo la secci√≥n `environment`:

```yml
version: '3'
services:
  open-webui:
    image: ghcr.io/open-webui/open-webui:main
    ports:
      - "3000:8080"
    volumes:
      - open-webui:/app/backend/data
    environment:
      - WEBUI_SECRET_KEY=your_secret_key
```

Para m√°s detalles sobre la configuraci√≥n de variables de entorno, consulta la [documentaci√≥n de Open WebUI sobre variables de seguridad](https://docs.openwebui.com/getting-started/env-configuration#security-variables).

## Actualizaci√≥n Autom√°tica de Open WebUI con Watchtower

Puedes usar [Watchtower](https://containrrr.dev/watchtower/) para automatizar el proceso de actualizaci√≥n de Open WebUI. Aqu√≠ hay tres opciones:

### Opci√≥n 1: Actualizaci√≥n √∫nica

Puedes ejecutar Watchtower como una actualizaci√≥n √∫nica para detener el contenedor actual, descargar la √∫ltima imagen e iniciar un nuevo contenedor con la imagen actualizada y el volumen existente adjunto (**Para soporte de GPU Nvidia, agrega `--gpus all` al comando docker run**):

```bash
docker run --rm --volume /var/run/docker.sock:/var/run/docker.sock containrrr/watchtower --run-once open-webui
```

### Opci√≥n 2: Ejecutar Watchtower como un contenedor separado

Puedes ejecutar Watchtower como un contenedor separado que observe y actualice tu contenedor de Open WebUI:

```bash
docker run -d --name watchtower \
  --volume /var/run/docker.sock:/var/run/docker.sock \
  containrrr/watchtower -i 300 open-webui
```

Esto iniciar√° Watchtower en modo separado, observando el contenedor de Open WebUI para actualizaciones cada 5 minutos.

### Opci√≥n 3: Integrando Watchtower con un archivo `docker-compose.yml`

Tambi√©n puedes integrar Watchtower con tu archivo `docker-compose.yml` para automatizar las actualizaciones de Open WebUI (**Para soporte de GPU Nvidia, agrega `--gpus all` al comando docker run**):

```yml
version: '3'
services:
  open-webui:
    image: ghcr.io/open-webui/open-webui:main
    ports:
      - "3000:8080"
    volumes:
      - open-webui:/app/backend/data

  watchtower:
    image: containrrr/watchtower
    volumes:
      - /var/run/docker.sock:/var/run/docker.sock
    command: --interval 300 open-webui
    depends_on:
      - open-webui

volumes:
  open-webui:
```

En este ejemplo, Watchtower est√° integrado con el archivo `docker-compose.yml` y observa el contenedor de Open WebUI para actualizaciones cada 5 minutos.

## Datos Persistentes en Vol√∫menes de Docker

Los datos se almacenan en un volumen de Docker llamado `open-webui`. La ruta al volumen no es directamente accesible, pero puedes inspeccionar el volumen con el siguiente comando:

```bash
docker volume inspect open-webui
```

Esto mostrar√° los detalles del volumen, incluido el punto de montaje, que generalmente se encuentra en `/var/lib/docker/volumes/open-webui/_data`.  

En Windows 10 + WSL 2, los vol√∫menes de Docker se encuentran aqu√≠ (escribe en el explorador de archivos de Windows): 
- \\\wsl$\docker-desktop\mnt\docker-desktop-disk\data\docker\volumes

Para versiones anteriores de Docker (antes de Docker v26.1.4):
- \\\wsl$\docker-desktop-data\data\docker\volumes
- \\\wsl$\docker-desktop-data\version-pack-data\community\docker\volumes

_(La respuesta de Windows es cr√©dito del usuario sarye-haddadi de StackOverflow; [enlace al post original en SO](https://stackoverflow.com/questions/43181654/locating-data-volumes-in-docker-desktop-windows))_
