---
sidebar_position: 320
title: "π£ S3 Storageλ΅ μ „ν™ν•κΈ°"
---

:::warning
μ΄ νν† λ¦¬μ–Όμ€ μ»¤λ®¤λ‹ν‹° κΈ°μ—¬λ΅ μ‘μ„±λμ—μΌλ©° Open WebUI ν€μ—μ„ μ§€μ›ν•μ§€ μ•μµλ‹λ‹¤. μ΄λ” νΉμ • μ‚¬μ© μ‚¬λ΅€μ— λ§μ¶° Open WebUIλ¥Ό μ‚¬μ©μ μ§€μ •ν•λ” λ°©λ²•μ„ λ³΄μ—¬μ£Όλ” λ° λ©μ μ΄ μμµλ‹λ‹¤. κΈ°μ—¬ν•κ³  μ‹¶μΌμ‹ κ°€μ”? κΈ°μ—¬ νν† λ¦¬μ–Όμ„ ν™•μΈν•μ„Έμ”.
:::

# π£ S3 Storageλ΅ μ „ν™ν•κΈ°

μ΄ κ°€μ΄λ“μ—μ„λ” Open WebUI κµ¬μ„±μ κΈ°λ³Έ `local` μ €μ¥μ†λ¥Ό Amazon S3λ΅ μ „ν™ν•λ” λ°©λ²•μ— λ€ν•΄ μ„¤λ…ν•©λ‹λ‹¤.

## μ‚¬μ „ μ”κµ¬ μ‚¬ν•­

μ΄ νν† λ¦¬μ–Όμ„ λ”°λΌν•λ ¤λ©΄ λ‹¤μμ΄ ν•„μ”ν•©λ‹λ‹¤:

- ν™μ„± AWS κ³„μ •
- ν™μ„± AWS μ•΅μ„Έμ¤ ν‚¤μ™€ λΉ„λ°€ ν‚¤
- AWS IAM κ¶ν• (S3μ—μ„ κ°μ²΄ μƒμ„± λ° λ°°μΉ)
- μ‹μ¤ν…μ— Docker μ„¤μΉ

## Amazon S3λ€?

AWS μ›Ήμ‚¬μ΄νΈμ—μ„ μ§μ ‘ μ κ³µν• μ •λ³΄:

"Amazon S3λ” μ—…κ³„ μµκ³ μ ν™•μ¥μ„±, λ°μ΄ν„° κ°€μ©μ„±, λ³΄μ•, μ„±λ¥μ„ μ κ³µν•λ” κ°μ²΄ μ €μ¥μ† μ„λΉ„μ¤μ…λ‹λ‹¤. λ°μ΄ν„° λ μ΄ν¬, μ›Ήμ‚¬μ΄νΈ, ν΄λΌμ°λ“ λ„¤μ΄ν‹°λΈ μ• ν”λ¦¬μΌ€μ΄μ…, λ°±μ—…, μ•„μΉ΄μ΄λΈ, λ¨Έμ‹  λ¬λ‹, λ¶„μ„ λ“± λ‹¤μ–‘ν• μ‚¬μ© μ‚¬λ΅€λ¥Ό μ„ν•΄ λ°μ΄ν„°λ¥Ό μ €μ¥ν•κ³  λ³΄νΈν•μ„Έμ”. Amazon S3λ” 99.999999999% (11 9's)μ λ‚΄κµ¬μ„±μ„ μ κ³µν•λ©°, μ „ μ„Έκ³„ μλ°±λ§ κ³ κ°μ λ°μ΄ν„°λ¥Ό μ €μ¥ν•©λ‹λ‹¤."

S3μ— λ€ν•΄ μμ„Έν μ•μ•„λ³΄λ ¤λ©΄: [Amazon S3 κ³µμ‹ νμ΄μ§€](https://aws.amazon.com/s3/)

# μ„¤μ • λ°©λ²•

## 1. ν•„μ”ν• ν™κ²½ λ³€μ

μ΄ μµμ…μ„ κµ¬μ„±ν•λ ¤λ©΄ λ‹¤μ ν™κ²½ λ³€μλ¥Ό μμ§‘ν•΄μ•Ό ν•©λ‹λ‹¤:

| **Open-WebUI ν™κ²½ λ³€μ** | **μμ‹ κ°’**                              |
|--------------------------------|---------------------------------------|
| `S3_ACCESS_KEY_ID`             | ABC123                                |
| `S3_SECRET_ACCESS_KEY`         | SuperSecret                           |
| `S3_ENDPOINT_URL`              | https://s3.us-east-1.amazonaws.com    |
| `S3_REGION_NAME`               | us-east-1                             |
| `S3_BUCKET_NAME`               | my-awesome-bucket-name                |

- S3_ACCESS_KEY_ID: AWS κ³„μ •μ μ•΅μ„Έμ¤ ν‚¤ μ‹λ³„μμ…λ‹λ‹¤. μ•΅μ„Έμ¤ ν‚¤ μƒμ„± μ‹ AWS κ΄€λ¦¬ μ½μ†” λλ” AWS CLIμ—μ„ λ°›μµλ‹λ‹¤.
- S3_SECRET_ACCESS_KEY: AWS μ•΅μ„Έμ¤ ν‚¤ μμ λΉ„λ°€ ν‚¤μ…λ‹λ‹¤. AWSμ—μ„ μ•΅μ„Έμ¤ ν‚¤λ¥Ό μƒμ„±ν•  λ• μ κ³µλλ©° μ•μ „ν•κ² λ³΄κ΄€ν•΄μ•Ό ν•©λ‹λ‹¤.
- S3_ENDPOINT_URL: S3 μ„λΉ„μ¤ μ—”λ“ν¬μΈνΈλ¥Ό κ°€λ¦¬ν‚¤λ” URLλ΅ AWS μ„λΉ„μ¤ λ¬Έμ„ λλ” κ³„μ • μ„¤μ •μ—μ„ μ°Ύμ„ μ μμµλ‹λ‹¤.
- S3_REGION_NAME: S3 λ²„ν‚·μ΄ μ„μΉν• AWS μ§€μ—­μΌλ΅, μ: "us-east-1"μ…λ‹λ‹¤. μ΄λ” AWS κ΄€λ¦¬ μ½μ†”μ—μ„ S3 λ²„ν‚· μ„Έλ¶€ μ •λ³΄μ—μ„ ν™•μΈ κ°€λ¥ν•©λ‹λ‹¤.
- S3_BUCKET_NAME: AWSμ—μ„ λ²„ν‚·μ„ μƒμ„±ν•  λ• μ§€μ •ν• κ³ μ ν• S3 λ²„ν‚· μ΄λ¦„μ…λ‹λ‹¤.

μ‚¬μ© κ°€λ¥ν• S3 μ—”λ“ν¬μΈνΈ URLμ μ „μ²΄ λ©λ΅μ€ μ—¬κΈ°μ—μ„ ν™•μΈν•μ„Έμ”: [Amazon S3 Regular Endpoints](https://docs.aws.amazon.com/general/latest/gr/s3.html)

λ¨λ“  `ν΄λΌμ°λ“ μ €μ¥μ†` κµ¬μ„± μµμ…μ„ ν™•μΈν•μ„Έμ”: [Open-WebUI Cloud Storage Config](https://docs.openwebui.com/getting-started/env-configuration#cloud-storage)

## 2. Open-WebUI μ‹¤ν–‰ν•κΈ°

Open-WebUI μΈμ¤ν„΄μ¤λ¥Ό μ‹¤ν–‰ν•κΈ° μ „μ— `STORAGE_PROVIDER`λΌλ” λ§μ§€λ§‰ ν™κ²½ λ³€μλ¥Ό μ„¤μ •ν•΄μ•Ό ν•©λ‹λ‹¤. μ΄ λ³€μλ” Open-WebUIμ—κ² μ‚¬μ©ν•  κ³µκΈ‰μλ¥Ό μ•λ ¤μ¤λ‹λ‹¤. κΈ°λ³Έμ μΌλ΅ `STORAGE_PROVIDER`λ” λΉ„μ–΄μμ–΄ Open-WebUIκ°€ λ΅μ»¬ μ €μ¥μ†λ¥Ό μ‚¬μ©ν•©λ‹λ‹¤.

| **μ €μ¥μ† κ³µκΈ‰μ** | **μ ν•** | **μ„¤λ…**                                                                               | **κΈ°λ³Έκ°’** |
|-------------------|----------|---------------------------------------------------------------------------------------|-------------|
| `local`           | str      | λΉ λ¬Έμμ—΄ (`' '`)μ΄ μ κ³µλ  κ²½μ° κΈ°λ³Έμ μΌλ΅ λ΅μ»¬ μ €μ¥μ†λ¥Ό μ‚¬μ©ν•©λ‹λ‹¤                             | μ          |
| `s3`              | str      | Amazon S3 μ €μ¥μ†μ—μ„ μ–ΈκΈ‰λ κ΄€λ ¨ ν™κ²½ λ³€μμ™€ S3 ν΄λΌμ΄μ–ΈνΈ λΌμ΄λΈλ¬λ¦¬λ¥Ό μ‚¬μ©ν•©λ‹λ‹¤             | μ•„λ‹μ”       |
| `gcs`             | str      | Google Cloud Storageμ—μ„ μ–ΈκΈ‰λ κ΄€λ ¨ ν™κ²½ λ³€μμ™€ GCS ν΄λΌμ΄μ–ΈνΈ λΌμ΄λΈλ¬λ¦¬λ¥Ό μ‚¬μ©ν•©λ‹λ‹¤         | μ•„λ‹μ”       |

Amazon S3λ¥Ό μ‚¬μ©ν•λ ¤λ©΄ `STORAGE_PROVIDER`λ¥Ό "S3"λ΅ μ„¤μ •ν•΄μ•Ό ν•λ©° 1λ‹¨κ³„μ—μ„ μμ§‘ν• λ¨λ“  ν™κ²½ λ³€μ(`S3_ACCESS_KEY_ID`, `S3_SECRET_ACCESS_KEY`, `S3_ENDPOINT_URL`, `S3_REGION_NAME`, `S3_BUCKET_NAME`)λ¥Ό μ„¤μ •ν•΄μ•Ό ν•©λ‹λ‹¤.

μ—¬κΈ°μ„λ” `ENV`λ¥Ό "dev"λ΅ μ„¤μ •ν•μ—¬ Open-WebUI Swagger λ¬Έμ„λ¥Ό ν™•μΈν•κ³  S3 μ €μ¥μ† μ„¤μ •μ΄ μμƒλ€λ΅ μ‘λ™ν•λ”μ§€ ν…μ¤νΈν•  μ μλ„λ΅ ν•©λ‹λ‹¤.

```sh
docker run -d \
  -p 3000:8080 \
  -v open-webui:/app/backend/data \
  -e STORAGE_PROVIDER="s3" \
  -e S3_ACCESS_KEY_ID="ABC123" \
  -e S3_SECRET_ACCESS_KEY="SuperSecret" \
  -e S3_ENDPOINT_URL="https://s3.us-east-1.amazonaws.com" \
  -e S3_REGION_NAME="us-east-1" \
  -e S3_BUCKET_NAME="my-awesome-bucket-name" \
  -e ENV="dev" \
  --name open-webui \
  ghcr.io/open-webui/open-webui:main
```

## 3. μ„¤μ • ν…μ¤νΈν•κΈ°

Open-WebUIκ°€ μ‹¤ν–‰λκ³  μλ” μƒνƒμ—μ„ κ°„λ‹¨ν• `Hello, World` ν…μ¤νΈ νμΌμ„ μ—…λ΅λ“ν•μ—¬ μ„¤μ •μ„ ν…μ¤νΈν•΄λ΄…μ‹λ‹¤.

![Open-WebUIμ—μ„ νμΌ μ—…λ΅λ“ν•κΈ°](/images/tutorials/amazon-s3/amazon-s3-upload-file.png)

μ„ νƒν• LLMμΌλ΅λ¶€ν„° μ‘λ‹µμ„ λ°›λ”μ§€ ν™•μΈν•΄ λ΄…μ‹λ‹¤.

![Open-WebUIμ—μ„ μ‘λ‹µ ν™•μΈν•κΈ°](/images/tutorials/amazon-s3/amazon-s3-oui-response.png)

μΆ‹μ•„μ”! λ¨λ“  κ²ƒμ΄ Open-WebUIμ—μ„ μμƒλ€λ΅ μ‘λ™ν•λ” κ²ƒμ²λΌ λ³΄μ…λ‹λ‹¤. μ΄μ  ν•΄λ‹Ή ν…μ¤νΈ νμΌμ΄ μ‹¤μ λ΅ μ—…λ΅λ“λμ—κ³  μ§€μ •ν• S3 λ²„ν‚·μ— μ €μ¥λμ—λ”μ§€ ν™•μΈν•΄λ΄…μ‹λ‹¤. AWS Management Consoleμ„ μ‚¬μ©ν•λ©΄ S3 λ²„ν‚·μ— νμΌμ΄ μλ” κ²ƒμ„ λ³Ό μ μμµλ‹λ‹¤. μ°λ¦¬κ°€ μ—…λ΅λ“ν• νμΌ μ΄λ¦„(`hello.txt`) μ™Έμ—λ„ κ°μ²΄ μ΄λ¦„μ— κ³ μ  IDκ°€ μ¶”κ°€λ κ²ƒμ„ λ³Ό μ μμµλ‹λ‹¤. μ΄λ” Open-WebUIκ°€ μ—…λ΅λ“λ λ¨λ“  νμΌμ„ μ¶”μ ν•λ” λ°©μ‹μ…λ‹λ‹¤.

![Open-WebUIμ—μ„ μ‘λ‹µ ν™•μΈν•κΈ°](/images/tutorials/amazon-s3/amazon-s3-object-in-bucket.png)

Open-WebUIμ swagger λ¬Έμ„λ¥Ό μ‚¬μ©ν•μ—¬ `/api/v1/files/{id}` μ—”λ“ν¬μΈνΈμ™€ κ³ μ  ID (4405fabb-603e-4919-972b-2b39d6ad7f5b)λ¥Ό μ „λ‹¬ν•μ—¬ μ΄ νμΌκ³Ό κ΄€λ ¨λ λ¨λ“  μ •λ³΄λ¥Ό μ–»μ„ μ μμµλ‹λ‹¤.

![IDλ΅ νμΌ νƒμƒ‰ν•κΈ°](/images/tutorials/amazon-s3/amazon-s3-get-file-by-id.png)
