---
sidebar_position: 20
title: "ğŸ’¡ íŠ¹ìˆ˜ ì¸ì"
---

:::warning
ì´ íŠœí† ë¦¬ì–¼ì€ ì»¤ë®¤ë‹ˆí‹° ê¸°ì—¬ë¡œ ì‘ì„±ë˜ì—ˆìœ¼ë©° Open WebUI íŒ€ì— ì˜í•´ ì§€ì›ë˜ì§€ ì•ŠìŠµë‹ˆë‹¤. íŠ¹ì • ì‚¬ìš© ì‚¬ë¡€ì— ë§ê²Œ Open WebUIë¥¼ ì»¤ìŠ¤í„°ë§ˆì´ì¦ˆí•˜ëŠ” ë°©ë²•ì„ ì‹œì—°í•˜ëŠ” ëª©ì ì„ ê°–ìŠµë‹ˆë‹¤. ê¸°ì—¬í•˜ê³  ì‹¶ë‹¤ë©´ ê¸°ì—¬ íŠœí† ë¦¬ì–¼ì„ í™•ì¸í•˜ì„¸ìš”.
:::

# ğŸ’¡ íŠ¹ìˆ˜ ì¸ì

ìì‹ ë§Œì˜ `Tools`, `Functions` (`Filters`, `Pipes` ë˜ëŠ” `Actions`), `Pipelines` ë“±ì„ ê°œë°œí•  ë•Œ Open-WebUIì˜ ëª¨ë“  ê°€ëŠ¥ì„±ì„ í™œìš©í•  ìˆ˜ ìˆëŠ” íŠ¹ìˆ˜ ì¸ìë¥¼ ì‚¬ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

ì´ í˜ì´ì§€ëŠ” ê° íŠ¹ìˆ˜ ì¸ìì˜ ìœ í˜•ê³¼ êµ¬ì¡°ë¥¼ ìì„¸íˆ ì„¤ëª…í•˜ê³  ì˜ˆì œë„ ì œê³µí•©ë‹ˆë‹¤.

### `body`

`dict` í˜•ì‹ìœ¼ë¡œ ë³´í†µ ëª¨ë¸ì— ê±°ì˜ ì§ì ‘ ì „ë‹¬ë˜ëŠ” ë°ì´í„°ì…ë‹ˆë‹¤. ì—„ë°€íˆ ë§í•´ íŠ¹ìˆ˜ ì¸ìëŠ” ì•„ë‹ˆì§€ë§Œ, ë” ì‰½ê²Œ ì°¸ì¡°í•˜ê¸° ìœ„í•´ ì—¬ê¸°ì— í¬í•¨ë˜ì—ˆìœ¼ë©° ìì²´ì ìœ¼ë¡œ ì¼ë¶€ íŠ¹ìˆ˜ ì¸ìë¥¼ í¬í•¨í•˜ê³  ìˆìŠµë‹ˆë‹¤.

<details>
<summary>ì˜ˆì œ</summary>

```json

{
  "stream": true,
  "model": "my-cool-model",
  # ì†Œë¬¸ì ë¬¸ìì—´, í•˜ì´í”ˆìœ¼ë¡œ êµ¬ë¶„ëœ ë‹¨ì–´: ì´ê²ƒì´ ëª¨ë¸ì˜ ID ì…ë‹ˆë‹¤
  "messages": [
    {
      "role": "user",
      "content": [
        {
          "type": "text",
          "text": "ì´ ì‚¬ì§„ì— ë¬´ì—‡ì´ ìˆë‚˜ìš”?"
        },
        {
          "type": "image_url",
          "image_url": {
            "url": "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAdYAAAGcCAYAAABk2YF[REDACTED]"
            # ì´ë¯¸ì§€ëŠ” base64ë¡œ ì¸ì½”ë”©ëœ ë°ì´í„°ë¡œ ì „ë‹¬ë©ë‹ˆë‹¤
          }
        }
      ]
    },
    {
      "role": "assistant",
      "content": "ì´ë¯¸ì§€ëŠ” [REDACTED]ì²˜ëŸ¼ ë³´ì…ë‹ˆë‹¤"
    },
  ],
  "features": {
    "image_generation": false,
    "code_interpreter": false,
    "web_search": false
  },
  "stream_options": {
    "include_usage": true
  },
  "metadata": "[__metadata__ì™€ ì •í™•íˆ ë™ì¼í•œ dict]",
  "files": "[__files__ì™€ ì •í™•íˆ ë™ì¼í•œ ëª©ë¡]"
}


```

</details>

### `__user__`

ì‚¬ìš©ì ì •ë³´ë¥¼ í¬í•¨í•˜ëŠ” `dict`ì…ë‹ˆë‹¤.

`UserValves` í´ë˜ìŠ¤ê°€ ì •ì˜ëœë‹¤ë©´, ê·¸ ì¸ìŠ¤í„´ìŠ¤ëŠ” `__user__["valves"]`ë¥¼ í†µí•´ ì ‘ê·¼í•´ì•¼ í•©ë‹ˆë‹¤. ê·¸ë ‡ì§€ ì•Šë‹¤ë©´ `valves` í‚¤ê°’ì€ `__user__`ì—ì„œ ì™„ì „íˆ ìƒëµë©ë‹ˆë‹¤.

<details>
<summary>ì˜ˆì œ</summary>

```json
{
  "id": "xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx",
  "email": "cheesy_dude@openwebui.com",
  "name": "Patrick",
  "role": "user",
  # ì—­í• ì€ `user` ë˜ëŠ” `admin`ì¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤
  "valves": "[UserValve ì¸ìŠ¤í„´ìŠ¤]"
}
```

</details>

### `__metadata__`

ì±„íŒ…, ëª¨ë¸, íŒŒì¼ ë“±ì— ëŒ€í•œ ê´‘ë²”ìœ„í•œ ì •ë³´ë¥¼ í¬í•¨í•˜ëŠ” `dict`ì…ë‹ˆë‹¤.

<details>
<summary>ì˜ˆì œ</summary>

```json
{
  "user_id": "xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx",
  "chat_id": "xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx",
  "message_id": "xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx",
  "session_id": "xxxxxxxxxxxxxxxxxxxx",
  "tool_ids": null,
  # tool_idsëŠ” ë¬¸ìì—´ì˜ ëª©ë¡ì…ë‹ˆë‹¤.
  "tool_servers": [],
  "files": "[body['files']ì™€ ë™ì¼]",
  # íŒŒì¼ì´ ì§€ì •ë˜ì§€ ì•Šì€ ê²½ìš° __metadata__ì— íŒŒì¼ í‚¤ê°€ ì¡´ì¬í•˜ë©° ê°’ì€ [] ì…ë‹ˆë‹¤
  "features": {
    "image_generation": false,
    "code_interpreter": false,
    "web_search": false
  },
  "variables": {
    "{{USER_NAME}}": "cheesy_username",
    "{{USER_LOCATION}}": "Unknown",
    "{{CURRENT_DATETIME}}": "2025-02-02 XX:XX:XX",
    "{{CURRENT_DATE}}": "2025-02-02",
    "{{CURRENT_TIME}}": "XX:XX:XX",
    "{{CURRENT_WEEKDAY}}": "Monday",
    "{{CURRENT_TIMEZONE}}": "Europe/Berlin",
    "{{USER_LANGUAGE}}": "en-US"
  },
  "model": "[__model__ì™€ ë™ì¼í•œ dict]",
  "direct": false,
  "function_calling": "native",
  "type": "user_response",
  "interface": "open-webui"
}

```

</details>

### `__model__`

ëª¨ë¸ì— ëŒ€í•œ ì •ë³´ë¥¼ í¬í•¨í•˜ëŠ” `dict`ì…ë‹ˆë‹¤.

<details>
<summary>ì˜ˆì œ</summary>

```json
{
  "id": "my-cool-model",
  "name": "My Cool Model",
  "object": "model",
  "created": 1746000000,
  "owned_by": "openai",
  # openai ë˜ëŠ” ollama ì¤‘ í•˜ë‚˜
  "info": {
      "id": "my-cool-model",
      "user_id": "xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx",
      "base_model_id": "gpt-4o",
      # ëª¨ë¸ ì—”ë“œí¬ì¸íŠ¸ê°€ ì œê³µí•˜ëŠ” ì‹¤ì œ ëª¨ë¸ ì´ë¦„
      "name": "My Cool Model",
      "params": {
      "system": "ë‹¹ì‹ ì€ ë‚˜ì˜ ìµœê³ ì˜ ë¹„ì„œì…ë‹ˆë‹¤. ë‹¹ì‹ ì€ [REDACTED]ë¼ê³  ë‹µë³€í•©ë‹ˆë‹¤",
      "function_calling": "native"
      # ì‚¬ìš©ì ì •ì˜ ì˜µì…˜ì€ ì—¬ê¸° ë‚˜íƒ€ë‚©ë‹ˆë‹¤, ì˜ˆë¥¼ ë“¤ì–´ "Top K"
      },
      "meta": {
      "profile_image_url": "/static/favicon.png",
      "description": "my-cool-modelì— ëŒ€í•œ ì„¤ëª…",
      "capabilities": {
          "vision": true,
          "usage": true,
          "citations": true
      },
      "position": 17,
      "tags": [
          {
          "name": "for_friends"
          },
          {
          "name": "vision_enabled"
          }
      ],
      "suggestion_prompts": null
      },
      "access_control": {
      "read": {
          "group_ids": [],
          "user_ids": []
      },
      "write": {
          "group_ids": [],
          "user_ids": []
      }
      },
      "is_active": true,
      "updated_at": 1740000000,
      "created_at": 1740000000
  },
  "preset": true,
  "actions": [],
  "tags": [
      {
          "name": "for_friends"
      },
      {
          "name": "vision_enabled"
      }
  ]
}

```

</details>

### `__messages__`

ì´ì „ ë©”ì‹œì§€ë“¤ì˜ `list`ì…ë‹ˆë‹¤.

`body["messages"]` ê°’ì€ ìœ„ë¥¼ ì°¸ì¡°í•˜ì„¸ìš”.


### `__chat_id__`

`chat_id`ì˜ `str`ì…ë‹ˆë‹¤.

`__metadata__["chat_id"]` ê°’ì€ ìœ„ë¥¼ ì°¸ì¡°í•˜ì„¸ìš”.

### `__session_id__`

`session_id`ì˜ `str`ì…ë‹ˆë‹¤.

`__metadata__["session_id"]` ê°’ì€ ìœ„ë¥¼ ì°¸ì¡°í•˜ì„¸ìš”.

### `__message_id__`

`message_id`ì˜ `str`ì…ë‹ˆë‹¤.

`__metadata__["message_id"]` ê°’ì€ ìœ„ë¥¼ ì°¸ì¡°í•˜ì„¸ìš”.

### `__event_emitter__`

ì‚¬ìš©ìì—ê²Œ ì´ë²¤íŠ¸ ì •ë³´ë¥¼ í‘œì‹œí•˜ê¸° ìœ„í•´ ì‚¬ìš©ë˜ëŠ” `Callable`ì…ë‹ˆë‹¤.

### `__event_call__`

`Actions`ì„ ìœ„í•´ ì‚¬ìš©ë˜ëŠ” `Callable`ì…ë‹ˆë‹¤.

### `__files__`

ì±„íŒ…ì„ í†µí•´ ì „ì†¡ëœ íŒŒì¼ë“¤ì˜ `list`ì…ë‹ˆë‹¤. ì´ë¯¸ì§€ëŠ” íŒŒì¼ë¡œ ê°„ì£¼ë˜ì§€ ì•Šìœ¼ë©° `body["messages"]` ë¦¬ìŠ¤íŠ¸ì˜ ì¼ë¶€ë¡œ ëª¨ë¸ì— ì§ì ‘ ì „ì†¡ë©ë‹ˆë‹¤.

ì„±ëŠ¥ìƒì˜ ì´ìœ ë¡œ íŒŒì¼ì˜ ì‹¤ì œ ë°”ì´ë„ˆë¦¬ëŠ” ì¸ìˆ˜ì— í¬í•¨ë˜ì§€ ì•Šì§€ë§Œ í•„ìš”í•  ê²½ìš° ê²½ë¡œë¥¼ í†µí•´ ì—¬ì „íˆ ì ‘ê·¼ ê°€ëŠ¥í•©ë‹ˆë‹¤. ì˜ˆë¥¼ ë“¤ì–´, `docker`ë¥¼ ì‚¬ìš©í•˜ëŠ” ê²½ìš° íŒŒì´ì¬ ê²½ë¡œ êµ¬ë¬¸ì€ ë‹¤ìŒê³¼ ê°™ìŠµë‹ˆë‹¤:

```python
from pathlib import Path

the_file = Path(f"/app/backend/data/uploads/{__files__[0]["files"]["id"]}_{__files__[0]["files"]["filename"]}")
assert the_file.exists()
```

íŒŒì¼ dictëŠ” `__metadata__["files"]`ë¥¼ í†µí•´ì„œë„ ì ‘ê·¼ ê°€ëŠ¥í•˜ë©° (íŒŒì¼ì´ ì „ì†¡ë˜ì§€ ì•Šì€ ê²½ìš° ê°’ì€ `[]`) `body["files"]`ë¥¼ í†µí•´ì„œë„ ì ‘ê·¼ ê°€ëŠ¥í•©ë‹ˆë‹¤ (`body`ì— íŒŒì¼ì´ ì „ì†¡ë˜ì§€ ì•Šìœ¼ë©´ `files` í‚¤ ìì²´ê°€ ì¡´ì¬í•˜ì§€ ì•ŠìŒ).

<details>
<summary>ì˜ˆì œ</summary>

```json

[
  {
    "type": "file",
    "file": {
      "id": "xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx",
      "filename": "Napoleon - Wikipedia.pdf",
      "user_id": "xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx",
      "hash": "xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx",
      "data": {
        "content": "Napoleon - Wikipedia\n\n\nNapoleon I\n\nThe Emperor Napoleon in His Study at the\nTuileries, 1812\n\nEmperor of the French\n\n1st reign 18 May 1804 â€“ 6 April 1814\n\nSuccessor Louis XVIII[a]\n\n2nd reign 20 March 1815Â â€“ 22Â June 1815\n\nSuccessor Louis XVIII[a]\n\nFirst Consul of the French Republic\n\nIn office\n13 December 1799Â â€“ 18 May 1804\n\nBorn Napoleone Buonaparte\n15 August 1769\nAjaccio, Corsica, Kingdom of\nFrance\n\nDied 5 May 1821 (agedÂ 51)\nLongwood, Saint Helena\n\nBurial 15 December 1840\nLes Invalides, Paris\n\nNapoleon\nNapoleon Bonaparte[b] (born Napoleone\nBuonaparte;[1][c] 15 August 1769 â€“ 5 May 1821), later\nknown [REDACTED]",
        # ì½˜í…ì¸  ê°’ì€ ë¬¸ì„œ ë¶„ì„ê¸°ì˜ ì¶œë ¥ë¬¼ì´ë©°, ìœ„ ì˜ˆì‹œëŠ” Tikaë¥¼ ë¬¸ì„œ ë¶„ì„ê¸°ë¡œ ì‚¬ìš©í•œ ê²½ìš°ì…ë‹ˆë‹¤
      },
      "meta": {
        "name": "Napoleon - Wikipedia.pdf",
        "content_type": "application/pdf",
        "size": 10486578,
        # ë°”ì´íŠ¸ ë‹¨ìœ„, ì—¬ê¸°ì„œëŠ” ì•½ 10Mb
        "data": {},
        "collection_name": "file-96xxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx"
        # í•­ìƒ 'file'ë¡œ ì‹œì‘ë¨
      },
      "created_at": 1740000000,
      "updated_at": 1740000000
    },
    "id": "xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx",
    "url": "/api/v1/files/xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx",
    "name": "Napoleon - Wikipedia.pdf",
    "collection_name": "file-96xxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx"
    "status": "uploaded",
    "size": 10486578,
    "error": "",
    "itemId": "xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx"
    # itemIdëŠ” file["id"]ì™€ ë™ì¼í•˜ì§€ ì•ŠìŒ
  }
]


```

</details>

### `__request__`

`fastapi.Request`ì˜ ì¸ìŠ¤í„´ìŠ¤ì…ë‹ˆë‹¤. ë” ìì„¸í•œ ë‚´ìš©ì€ [ë§ˆì´ê·¸ë ˆì´ì…˜ í˜ì´ì§€](../../features/plugin/migration/index.mdx) ë˜ëŠ” [fastapiì˜ ë¬¸ì„œ](https://fastapi.tiangolo.com/reference/request/)ë¥¼ ì°¸ì¡°í•˜ì„¸ìš”.

### `__task__`

ì‘ì—… ìœ í˜•ì— ëŒ€í•œ `str`ì…ë‹ˆë‹¤. ê°’ì€ `__metadata__["task"]`ê°€ ìˆëŠ” ê²½ìš° í•´ë‹¹ ê°’ì„ ê°„ë‹¨íˆ ë‚˜íƒ€ë‚´ë©°, ê·¸ë ‡ì§€ ì•Šì€ ê²½ìš° `None`ì…ë‹ˆë‹¤.

<details>
<summary>ê°€ëŠ¥í•œ ê°’</summary>

```json

[
    "title_generation",
    "tags_generation",
    "emoji_generation",
    "query_generation",
    "image_prompt_generation",
    "autocomplete_generation",
    "function_calling",
    "moa_response_generation"
]
```

</details>

### `__task_body__`

ì£¼ì–´ì§„ `__task__`ë¥¼ ìˆ˜í–‰í•˜ê¸° ìœ„í•´ í•„ìš”í•œ `body`ë¥¼ í¬í•¨í•˜ëŠ” `dict`ì…ë‹ˆë‹¤. ê°’ì€ `__metadata__["task_body"]`ê°€ ìˆëŠ” ê²½ìš° í•´ë‹¹ ê°’ì„ ê°„ë‹¨íˆ ë‚˜íƒ€ë‚´ë©°, ê·¸ë ‡ì§€ ì•Šì€ ê²½ìš° `None`ì…ë‹ˆë‹¤.

êµ¬ì¡°ëŠ” ìœ„ì˜ `body`ì™€ ë™ì¼í•˜ë©° ì ì ˆí•œ ëª¨ë¸ê³¼ ì‹œìŠ¤í…œ ë©”ì‹œì§€ ë“±ì„ ì‚¬ìš©í•˜ë„ë¡ ìˆ˜ì •ë©ë‹ˆë‹¤.


### `__tools__`

`ToolUserModel` ì¸ìŠ¤í„´ìŠ¤ë“¤ì˜ `list`ì…ë‹ˆë‹¤.

`ToolUserModel` ì¸ìŠ¤í„´ìŠ¤ì˜ ì†ì„±ì— ëŒ€í•œ ìì„¸í•œ ë‚´ìš©ì€ [tools.py](https://github.com/open-webui/open-webui/blob/main/backend/open_webui/models/tools.py)ì˜ ì½”ë“œë¥¼ ì°¸ì¡°í•˜ì„¸ìš”.

