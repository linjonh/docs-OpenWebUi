---
sidebar_position: 11
title: "ğŸ’  SQLite ë°ì´í„°ë² ì´ìŠ¤ ê°œìš”"
---

:::warning
ì´ íŠœí† ë¦¬ì–¼ì€ ì»¤ë®¤ë‹ˆí‹° ê¸°ì—¬ë¡œ ì œê³µë˜ë©° Open WebUI íŒ€ì—ì„œ ì§€ì›í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤. íŠ¹ì • ì‚¬ìš© ì‚¬ë¡€ì— ë§ê²Œ Open WebUIë¥¼ ì»¤ìŠ¤í„°ë§ˆì´ì§•í•˜ëŠ” ë°©ë²•ì„ ë³´ì—¬ì£¼ëŠ” ë°ë§Œ ì‚¬ìš©ë©ë‹ˆë‹¤. ê¸°ì—¬í•˜ê³  ì‹¶ìœ¼ì‹ ê°€ìš”? ê¸°ì—¬ íŠœí† ë¦¬ì–¼ì„ í™•ì¸í•˜ì„¸ìš”.
:::

> [!WARNING]  
> ì´ ë¬¸ì„œëŠ” í˜„ì¬ ë²„ì „(0.5.11)ì— ê¸°ë°˜í•˜ì—¬ ì‘ì„±ë˜ì—ˆìœ¼ë©° ì§€ì†ì ìœ¼ë¡œ ì—…ë°ì´íŠ¸ë˜ê³  ìˆìŠµë‹ˆë‹¤.

# Open-WebUI ë‚´ë¶€ SQLite ë°ì´í„°ë² ì´ìŠ¤

Open-WebUIì˜ SQLite ë°ì´í„°ë² ì´ìŠ¤ëŠ” ì‚¬ìš©ì ê´€ë¦¬, ì±„íŒ… ê¸°ë¡, íŒŒì¼ ì €ì¥ ë° ë‹¤ì–‘í•œ í•µì‹¬ ê¸°ëŠ¥ì˜ ê·¼ê°„ì„ ì œê³µí•©ë‹ˆë‹¤. ì´ êµ¬ì¡°ë¥¼ ì´í•´í•˜ëŠ” ê²ƒì€ í”„ë¡œì íŠ¸ì— íš¨ê³¼ì ìœ¼ë¡œ ê¸°ì—¬í•˜ê±°ë‚˜ ìœ ì§€ ê´€ë¦¬í•˜ë ¤ëŠ” ì‚¬ëŒë“¤ì—ê²Œ í•„ìˆ˜ì ì…ë‹ˆë‹¤.

## ë‚´ë¶€ SQLite ìœ„ì¹˜

SQLite ë°ì´í„°ë² ì´ìŠ¤ëŠ” `root` -> `data` -> `webui.db`ì—ì„œ ì°¾ì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤.

```
ğŸ“ Root (/)
â”œâ”€â”€ ğŸ“ data
â”‚   â”œâ”€â”€ ğŸ“ cache
â”‚   â”œâ”€â”€ ğŸ“ uploads
â”‚   â”œâ”€â”€ ğŸ“ vector_db
â”‚   â””â”€â”€ ğŸ“„ webui.db
â”œâ”€â”€ ğŸ“„ dev.sh
â”œâ”€â”€ ğŸ“ open_webui
â”œâ”€â”€ ğŸ“„ requirements.txt
â”œâ”€â”€ ğŸ“„ start.sh
â””â”€â”€ ğŸ“„ start_windows.bat
```

## ë°ì´í„°ë² ì´ìŠ¤ ë¡œì»¬ ë³µì‚¬

ì»¨í…Œì´ë„ˆì—ì„œ ì‹¤í–‰ ì¤‘ì¸ Open-WebUI SQLite ë°ì´í„°ë² ì´ìŠ¤ë¥¼ ë¡œì»¬ ì»´í“¨í„°ë¡œ ë³µì‚¬í•˜ë ¤ë©´ ë‹¤ìŒ ëª…ë ¹ì–´ë¥¼ ì‚¬ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤:

```bash
docker cp open-webui:/app/backend/data/webui.db ./webui.db
```

ë˜ëŠ” ì»¨í…Œì´ë„ˆ ë‚´ì—ì„œ ë°ì´í„°ë² ì´ìŠ¤ì— ì•¡ì„¸ìŠ¤í•˜ë ¤ë©´ ë‹¤ìŒ ëª…ë ¹ì–´ë¥¼ ì‚¬ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤:

```bash
docker exec -it open-webui /bin/sh
```

## í…Œì´ë¸” ê°œìš”

Open-WebUIì˜ SQLite ë°ì´í„°ë² ì´ìŠ¤ì— ìˆëŠ” í…Œì´ë¸” ì „ì²´ ëª©ë¡ì…ë‹ˆë‹¤. í…Œì´ë¸”ì€ ì•ŒíŒŒë²³ ìˆœì„œë¡œ ë‚˜ì—´ë˜ì–´ ìˆìœ¼ë©° í¸ì˜ë¥¼ ìœ„í•´ ë²ˆí˜¸ê°€ ì§€ì •ë˜ì—ˆìŠµë‹ˆë‹¤.

| **No.** | **í…Œì´ë¸” ì´ë¦„**   | **ì„¤ëª…**                                                    |
| ------- | ---------------- | ------------------------------------------------------------ |
| 01      | auth             | ì‚¬ìš©ì ì¸ì¦ ì •ë³´ì™€ ë¡œê·¸ì¸ ì •ë³´ë¥¼ ì €ì¥í•©ë‹ˆë‹¤                |
| 02      | channel          | ì±„íŒ… ì±„ë„ ë° í•´ë‹¹ êµ¬ì„± ê´€ë¦¬ë¥¼ ì œê³µí•©ë‹ˆë‹¤                   |
| 03      | channel_member   | ì±„ë„ ë‚´ ì‚¬ìš©ì ë©¤ë²„ì‹­ ë° ê¶Œí•œì„ ì¶”ì í•©ë‹ˆë‹¤                 |
| 04      | chat             | ì±„íŒ… ì„¸ì…˜ê³¼ í•´ë‹¹ ë©”íƒ€ë°ì´í„°ë¥¼ ì €ì¥í•©ë‹ˆë‹¤                   |
| 05      | chatidtag        | ì±„íŒ…ê³¼ ê´€ë ¨ëœ íƒœê·¸ ê°„ì˜ ê´€ê³„ë¥¼ ë§¤í•‘í•©ë‹ˆë‹¤                  |
| 06      | config           | ì‹œìŠ¤í…œ ì „ì²´ êµ¬ì„± ì„¤ì •ì„ ìœ ì§€ ê´€ë¦¬í•©ë‹ˆë‹¤                    |
| 07      | document         | ì§€ì‹ ê´€ë¦¬ë¥¼ ìœ„í•œ ë¬¸ì„œ ë° í•´ë‹¹ ë©”íƒ€ë°ì´í„°ë¥¼ ì €ì¥í•©ë‹ˆë‹¤       |
| 08      | feedback         | ì‚¬ìš©ì í”¼ë“œë°± ë° í‰ê°€ë¥¼ ìº¡ì²˜í•©ë‹ˆë‹¤                         |
| 09      | file             | ì—…ë¡œë“œëœ íŒŒì¼ ë° í•´ë‹¹ ë©”íƒ€ë°ì´í„°ë¥¼ ê´€ë¦¬í•©ë‹ˆë‹¤              |
| 10      | folder           | íŒŒì¼ê³¼ ì½˜í…ì¸ ë¥¼ ê³„ì¸µì  êµ¬ì¡°ë¡œ ì¡°ì§í•©ë‹ˆë‹¤                  |
| 11      | function         | ì‚¬ìš©ì ì •ì˜ í•¨ìˆ˜ì™€ í•´ë‹¹ êµ¬ì„±ì„ ì €ì¥í•©ë‹ˆë‹¤                  |
| 12      | group            | ì‚¬ìš©ì ê·¸ë£¹ ë° í•´ë‹¹ ê¶Œí•œì„ ê´€ë¦¬í•©ë‹ˆë‹¤                      |
| 13      | knowledge        | ì§€ì‹ ë² ì´ìŠ¤ í•­ëª© ë° ê´€ë ¨ ì •ë³´ë¥¼ ì €ì¥í•©ë‹ˆë‹¤                 |
| 14      | memory           | ì±„íŒ… ê¸°ë¡ ë° ì»¨í…ìŠ¤íŠ¸ ë©”ëª¨ë¦¬ë¥¼ ìœ ì§€ ê´€ë¦¬í•©ë‹ˆë‹¤             |
| 15      | message          | ê°œë³„ ì±„íŒ… ë©”ì‹œì§€ ë° í•´ë‹¹ ì½˜í…ì¸ ë¥¼ ì €ì¥í•©ë‹ˆë‹¤               |
| 16      | message_reaction | ë©”ì‹œì§€ì— ëŒ€í•œ ì‚¬ìš©ì ë°˜ì‘(ì´ëª¨í‹°ì½˜/ì‘ë‹µ)ì„ ê¸°ë¡í•©ë‹ˆë‹¤       |
| 17      | migrate_history  | ë°ì´í„°ë² ì´ìŠ¤ ìŠ¤í‚¤ë§ˆ ë²„ì „ ë° ë§ˆì´ê·¸ë ˆì´ì…˜ ê¸°ë¡ì„ ì¶”ì í•©ë‹ˆë‹¤ |
| 18      | model            | AI ëª¨ë¸ êµ¬ì„± ë° ì„¤ì •ì„ ê´€ë¦¬í•©ë‹ˆë‹¤                          |
| 19      | prompt           | AI í”„ë¡¬í”„íŠ¸ìš© í…œí”Œë¦¿ ë° êµ¬ì„±ì„ ì €ì¥í•©ë‹ˆë‹¤                  |
| 20      | tag              | ì½˜í…ì¸  ë¶„ë¥˜ë¥¼ ìœ„í•œ íƒœê·¸/ë ˆì´ë¸”ì„ ê´€ë¦¬í•©ë‹ˆë‹¤                |
| 21      | tool             | ì‹œìŠ¤í…œ ë„êµ¬ ë° í†µí•© êµ¬ì„±ì„ ì €ì¥í•©ë‹ˆë‹¤                      |
| 22      | user             | ì‚¬ìš©ì í”„ë¡œí•„ ë° ê³„ì • ì •ë³´ë¥¼ ìœ ì§€ ê´€ë¦¬í•©ë‹ˆë‹¤               |

ì°¸ê³ : Open-WebUIì˜ SQLite ë°ì´í„°ë² ì´ìŠ¤ì—ëŠ” Open-WebUIì˜ í•µì‹¬ ê¸°ëŠ¥ê³¼ ê´€ë ¨ë˜ì§€ ì•Šì€ ë‘ ê°œì˜ ì¶”ê°€ í…Œì´ë¸”ì´ ìˆìœ¼ë©°, ì œì™¸ë˜ì—ˆìŠµë‹ˆë‹¤:

- Alembic ë²„ì „ í…Œì´ë¸”
- ë§ˆì´ê·¸ë ˆì´ì…˜ ê¸°ë¡ í…Œì´ë¸”

ì´ì œ ëª¨ë“  í…Œì´ë¸”ì„ ì´í•´í–ˆìœ¼ë‹ˆ, ê° í…Œì´ë¸”ì˜ êµ¬ì¡°ë¥¼ ì•Œì•„ë´…ì‹œë‹¤.

## Auth í…Œì´ë¸”

| **ì—´ ì´ë¦„**    | **ë°ì´í„° ìœ í˜•** | **ì œì•½ ì¡°ê±´**   | **ì„¤ëª…**                |
| ------------- | -------------- | --------------- | ---------------------- |
| id            | String         | PRIMARY KEY     | ê³ ìœ  ì‹ë³„ì            |
| email         | String         | -               | ì‚¬ìš©ìì˜ ì´ë©”ì¼        |
| password      | Text           | -               | í•´ì‹œëœ ë¹„ë°€ë²ˆí˜¸        |
| active        | Boolean        | -               | ê³„ì • ìƒíƒœ             |

Auth í…Œì´ë¸”ì— ëŒ€í•´ ì•Œì•„ì•¼ í•  ì‚¬í•­ë“¤:

- ê¸°ë³¸ í‚¤ë¡œ UUID ì‚¬ìš©
- `users` í…Œì´ë¸”ê³¼ ì¼ëŒ€ì¼ ê´€ê³„ (ê³µìœ  id)

## Channel í…Œì´ë¸”

| **ì—´ ì´ë¦„**    | **ë°ì´í„° ìœ í˜•** | **ì œì•½ ì¡°ê±´**   | **ì„¤ëª…**                               |
| ------------- | -------------- | --------------- | --------------------------------------- |
| id              | Text          | PRIMARY KEY     | ê³ ìœ  ì‹ë³„ì (UUID)                        |
| user_id         | Text          | -               | ì±„ë„ì˜ ì†Œìœ ì/ìƒì„±ì                      |
| type            | Text          | nullable        | ì±„ë„ ìœ í˜•                                |
| name            | Text          | -               | ì±„ë„ ì´ë¦„                                |
| description     | Text          | nullable        | ì±„ë„ ì„¤ëª…                                |
| data            | JSON          | nullable        | ìœ ì—°í•œ ë°ì´í„° ì €ì¥ì†Œ                     |
| meta            | JSON          | nullable        | ì±„ë„ ë©”íƒ€ë°ì´í„°                          |
| access_control  | JSON          | nullable        | ê¶Œí•œ ì„¤ì •                                |
| created_at      | BigInteger    | -               | ìƒì„± íƒ€ì„ìŠ¤íƒ¬í”„ (ë‚˜ë…¸ì´ˆ ë‹¨ìœ„)             |
| updated_at      | BigInteger    | -               | ë§ˆì§€ë§‰ ì—…ë°ì´íŠ¸ íƒ€ì„ìŠ¤íƒ¬í”„ (ë‚˜ë…¸ì´ˆ ë‹¨ìœ„) |

auth í…Œì´ë¸”ì— ëŒ€í•œ ì°¸ê³  ì‚¬í•­:

- ê¸°ë³¸ í‚¤ë¡œ UUID ì‚¬ìš©
- ëŒ€ì†Œë¬¸ìë¥¼ êµ¬ë¶„í•˜ì§€ ì•ŠëŠ” ì±„ë„ ì´ë¦„ (ì†Œë¬¸ìë¡œ ì €ì¥ë¨)

## Channel Member í…Œì´ë¸”

| **ì—´ ì´ë¦„**    | **ë°ì´í„° ìœ í˜•** | **ì œì•½ ì¡°ê±´**   | **ì„¤ëª…**                                     |
| --------------- | ------------- | --------------- | -------------------------------------------- |
| id              | TEXT          | NOT NULL        | ì±„ë„ íšŒì› ê³ ìœ  ì‹ë³„ì                       |
| channel_id      | TEXT          | NOT NULL        | ì±„ë„ ì°¸ì¡°                                   |
| user_id         | TEXT          | NOT NULL        | ì‚¬ìš©ì ì°¸ì¡°                                 |
| created_at      | BIGINT        | -               | ë©¤ë²„ì‹­ ìƒì„± ì‹œì  íƒ€ì„ìŠ¤íƒ¬í”„                |

## Chat í…Œì´ë¸”

| **ì—´ ì´ë¦„**    | **ë°ì´í„° ìœ í˜•** | **ì œì•½ ì¡°ê±´**         | **ì„¤ëª…**                  |
| --------------- | ------------- | ----------------------- | ------------------------ |
| id              | String        | PRIMARY KEY             | ê³ ìœ  ì‹ë³„ì (UUID)        |
| user_id         | String        | -                       | ì±„íŒ… ì†Œìœ ì               |
| title           | Text          | -                       | ì±„íŒ… ì œëª©                 |
| chat            | JSON          | -                       | ì±„íŒ… ë‚´ìš© ë° ê¸°ë¡         |
| created_at      | BigInteger    | -                       | ìƒì„± íƒ€ì„ìŠ¤íƒ¬í”„           |
| updated_at      | BigInteger    | -                       | ë§ˆì§€ë§‰ ì—…ë°ì´íŠ¸ íƒ€ì„ìŠ¤íƒ¬í”„ |
| share_id        | Text          | UNIQUE, nullable        | ê³µìœ  ì‹ë³„ì               |
| archived        | Boolean       | default=False           | ì•„ì¹´ì´ë¸Œ ìƒíƒœ             |
| pinned          | Boolean       | default=False, nullable | ê³ ì • ìƒíƒœ                 |
| meta            | JSON          | server_default="{}"     | íƒœê·¸ í¬í•¨ ë©”íƒ€ë°ì´í„°       |
| folder_id       | Text          | nullable                | ë¶€ëª¨ í´ë” ID               |

## Chat ID Tag í…Œì´ë¸”

| **ì—´ ì´ë¦„**    | **ë°ì´í„° ìœ í˜•** | **ì œì•½ ì¡°ê±´**   | **ì„¤ëª…**            |
| --------------- | ------------- | --------------- | ------------------ |
| id              | VARCHAR(255)  | NOT NULL        | ê³ ìœ  ì‹ë³„ì         |
| tag_name        | VARCHAR(255)  | NOT NULL        | íƒœê·¸ ì´ë¦„           |
| chat_id         | VARCHAR(255)  | NOT NULL        | ì±„íŒ… ì°¸ì¡°           |
| user_id         | VARCHAR(255)  | NOT NULL        | ì‚¬ìš©ì ì°¸ì¡°         |
| timestamp       | INTEGER       | NOT NULL        | ìƒì„± íƒ€ì„ìŠ¤íƒ¬í”„     |

## Config

| **ì—´ ì´ë¦„**    | **ë°ì´í„° ìœ í˜•** | **ì œì•½ ì¡°ê±´**   | **ê¸°ë³¸ê°’**        | **ì„¤ëª…**             |
| --------------- | ------------- | --------------- | ----------------- | -------------------- |
| id              | INTEGER       | NOT NULL        | -                 | ê¸°ë³¸ í‚¤ ì‹ë³„ì        |
| data            | JSON          | NOT NULL        | -                 | êµ¬ì„± ë°ì´í„°           |
| version         | INTEGER       | NOT NULL        | -                 | êµ¬ì„± ë²„ì „ ë²ˆí˜¸        |
| created_at      | DATETIME      | NOT NULL        | CURRENT_TIMESTAMP | ìƒì„± íƒ€ì„ìŠ¤íƒ¬í”„       |
| updated_at      | DATETIME      | -               | CURRENT_TIMESTAMP | ë§ˆì§€ë§‰ ì—…ë°ì´íŠ¸ íƒ€ì„ìŠ¤íƒ¬í”„ |

## Feedback í…Œì´ë¸”

| **ì—´ ì´ë¦„**    | **ë°ì´í„° ìœ í˜•** | **ì œì•½ ì¡°ê±´**   | **ì„¤ëª…**                     |
| --------------- | ------------- | --------------- | ---------------------------- |
| id              | Text          | PRIMARY KEY     | ê³ ìœ  ì‹ë³„ì (UUID)            |
| user_id         | Text          | -               | í”¼ë“œë°±ì„ ì œê³µí•œ ì‚¬ìš©ì        |
| version         | BigInteger    | default=0       | í”¼ë“œë°± ë²„ì „ ë²ˆí˜¸              |
| type            | Text          | -               | í”¼ë“œë°± ìœ í˜•                   |
| data            | JSON          | nullable        | ë“±ê¸‰ì„ í¬í•¨í•œ í”¼ë“œë°± ë°ì´í„°   |
| meta            | JSON          | nullable        | ë©”íƒ€ë°ì´í„° (arena, chat_id ë“±) |
| snapshot        | JSON          | nullable        | ê´€ë ¨ ì±„íŒ… ìŠ¤ëƒ…ìƒ·              |
| created_at      | BigInteger    | -               | ìƒì„± ë‚ ì§œ ë° ì‹œê°„              |
| updated_at      | BigInteger    | -               | ë§ˆì§€ë§‰ ì—…ë°ì´íŠ¸ ë‚ ì§œ ë° ì‹œê°„           |

# íŒŒì¼ í…Œì´ë¸”

| **ì—´ ì´ë¦„**     | **ë°ì´í„° ìœ í˜•** | **ì œì•½ ì¡°ê±´**    | **ì„¤ëª…**             |
| --------------- | ------------- | --------------- | -------------------- |
| id              | String        | PRIMARY KEY     | ê³ ìœ  ì‹ë³„ì           |
| user_id         | String        | -               | íŒŒì¼ ì†Œìœ ì           |
| hash            | Text          | nullable        | íŒŒì¼ í•´ì‹œ/ì²´í¬ì„¬        |
| filename        | Text          | -               | íŒŒì¼ ì´ë¦„             |
| path            | Text          | nullable        | íŒŒì¼ ì‹œìŠ¤í…œ ê²½ë¡œ        |
| data            | JSON          | nullable        | íŒŒì¼ ê´€ë ¨ ë°ì´í„°        |
| meta            | JSON          | nullable        | íŒŒì¼ ë©”íƒ€ë°ì´í„°         |
| access_control  | JSON          | nullable        | ê¶Œí•œ ì„¤ì •             |
| created_at      | BigInteger    | -               | ìƒì„± ë‚ ì§œ ë° ì‹œê°„       |
| updated_at      | BigInteger    | -               | ë§ˆì§€ë§‰ ì—…ë°ì´íŠ¸ ë‚ ì§œ ë° ì‹œê°„ |

`meta` í•„ë“œì˜ ì˜ˆìƒ êµ¬ì¡°:

```python
{
    "name": string,          # ì„ íƒì  í‘œì‹œ ì´ë¦„
    "content_type": string,  # MIME íƒ€ì…
    "size": integer,         # íŒŒì¼ í¬ê¸° (ë°”ì´íŠ¸)
    # ì¶”ê°€ì ì¸ ë©”íƒ€ë°ì´í„°ëŠ” ConfigDict(extra="allow")ë¡œ ì§€ì›ë¨
}
```

## í´ë” í…Œì´ë¸”

| **ì—´ ì´ë¦„**     | **ë°ì´í„° ìœ í˜•** | **ì œì•½ ì¡°ê±´**    | **ì„¤ëª…**                     |
| --------------- | ------------- | --------------- | --------------------------- |
| id              | Text          | PRIMARY KEY     | ê³ ìœ  ì‹ë³„ì (UUID)          |
| parent_id       | Text          | nullable        | ê³„ì¸µ êµ¬ì¡°ì˜ ë¶€ëª¨ í´ë” ID    |
| user_id         | Text          | -               | í´ë” ì†Œìœ ì                 |
| name            | Text          | -               | í´ë” ì´ë¦„                   |
| items           | JSON          | nullable        | í´ë” ì½˜í…ì¸                  |
| meta            | JSON          | nullable        | í´ë” ë©”íƒ€ë°ì´í„°              |
| is_expanded     | Boolean       | default=False   | UI í™•ì¥ ìƒíƒœ                |
| created_at      | BigInteger    | -               | ìƒì„± ë‚ ì§œ ë° ì‹œê°„             |
| updated_at      | BigInteger    | -               | ë§ˆì§€ë§‰ ì—…ë°ì´íŠ¸ ë‚ ì§œ ë° ì‹œê°„  |

í´ë” í…Œì´ë¸”ì— ëŒ€í•´ ì•Œì•„ì•¼ í•  ì‚¬í•­:

- í´ë”ëŠ” ì¤‘ì²©ë  ìˆ˜ ìˆìŒ (parent_id ì°¸ì¡°)
- ë£¨íŠ¸ í´ë”ëŠ” parent_idê°€ nullì„
- ë™ì¼í•œ ë¶€ëª¨ ë‚´ì—ì„œ í´ë” ì´ë¦„ì€ ê³ ìœ í•´ì•¼ í•¨

## í•¨ìˆ˜ í…Œì´ë¸”

| **ì—´ ì´ë¦„**     | **ë°ì´í„° ìœ í˜•** | **ì œì•½ ì¡°ê±´**    | **ì„¤ëª…**               |
| --------------- | ------------- | --------------- | --------------------- |
| id              | String        | PRIMARY KEY     | ê³ ìœ  ì‹ë³„ì             |
| user_id         | String        | -               | í•¨ìˆ˜ ì†Œìœ ì             |
| name            | Text          | -               | í•¨ìˆ˜ ì´ë¦„               |
| type            | Text          | -               | í•¨ìˆ˜ ìœ í˜•               |
| content         | Text          | -               | í•¨ìˆ˜ ë‚´ìš©/ì½”ë“œ           |
| meta            | JSON          | -               | í•¨ìˆ˜ ë©”íƒ€ë°ì´í„°          |
| valves          | JSON          | -               | í•¨ìˆ˜ ì œì–´ ì„¤ì •           |
| is_active       | Boolean       | -               | í•¨ìˆ˜ í™œì„± ìƒíƒœ           |
| is_global       | Boolean       | -               | ì „ì—­ ì‚¬ìš© ê°€ëŠ¥ í”Œë˜ê·¸     |
| created_at      | BigInteger    | -               | ìƒì„± ë‚ ì§œ ë° ì‹œê°„          |
| updated_at      | BigInteger    | -               | ë§ˆì§€ë§‰ ì—…ë°ì´íŠ¸ ë‚ ì§œ ë° ì‹œê°„ |

í´ë” í…Œì´ë¸”ì— ëŒ€í•´ ì•Œì•„ì•¼ í•  ì‚¬í•­:

- `type`ì€ ë‹¤ìŒë§Œ ê°€ëŠ¥: ["filter", "action"]

## ê·¸ë£¹ í…Œì´ë¸”

| **ì—´ ì´ë¦„**     | **ë°ì´í„° ìœ í˜•** | **ì œì•½ ì¡°ê±´**        | **ì„¤ëª…**               |
| --------------- | ------------- | ------------------- | --------------------- |
| id              | Text          | PRIMARY KEY, UNIQUE | ê³ ìœ  ì‹ë³„ì (UUID)     |
| user_id         | Text          | -                   | ê·¸ë£¹ ì†Œìœ ì/ìƒì„±ì      |
| name            | Text          | -                   | ê·¸ë£¹ ì´ë¦„              |
| description     | Text          | -                   | ê·¸ë£¹ ì„¤ëª…              |
| data            | JSON          | nullable            | ì¶”ê°€ ê·¸ë£¹ ë°ì´í„°         |
| meta            | JSON          | nullable            | ê·¸ë£¹ ë©”íƒ€ë°ì´í„°          |
| permissions     | JSON          | nullable            | ê¶Œí•œ ì„¤ì •               |
| user_ids        | JSON          | nullable            | êµ¬ì„±ì› ì‚¬ìš©ì ID ëª©ë¡     |
| created_at      | BigInteger    | -                   | ìƒì„± ë‚ ì§œ ë° ì‹œê°„          |
| updated_at      | BigInteger    | -                   | ë§ˆì§€ë§‰ ì—…ë°ì´íŠ¸ ë‚ ì§œ ë° ì‹œê°„ |

## ì§€ì‹ í…Œì´ë¸”

| **ì—´ ì´ë¦„**     | **ë°ì´í„° ìœ í˜•** | **ì œì•½ ì¡°ê±´**        | **ì„¤ëª…**                 |
| --------------- | ------------- | ------------------- | ----------------------- |
| id              | Text          | PRIMARY KEY, UNIQUE | ê³ ìœ  ì‹ë³„ì (UUID)         |
| user_id         | Text          | -                   | ì§€ì‹ ë² ì´ìŠ¤ ì†Œìœ ì         |
| name            | Text          | -                   | ì§€ì‹ ë² ì´ìŠ¤ ì´ë¦„           |
| description     | Text          | -                   | ì§€ì‹ ë² ì´ìŠ¤ ì„¤ëª…           |
| data            | JSON          | nullable            | ì§€ì‹ ë² ì´ìŠ¤ ì½˜í…ì¸          |
| meta            | JSON          | nullable            | ì¶”ê°€ ë©”íƒ€ë°ì´í„°             |
| access_control  | JSON          | nullable            | ì ‘ê·¼ ì œì–´ ê·œì¹™             |
| created_at      | BigInteger    | -                   | ìƒì„± íƒ€ì„ìŠ¤íƒ¬í”„            |
| updated_at      | BigInteger    | -                   | ë§ˆì§€ë§‰ ì—…ë°ì´íŠ¸ íƒ€ì„ìŠ¤íƒ¬í”„  |

`access_control` í•„ë“œ ì˜ˆìƒ êµ¬ì¡°:

```python
{
  "read": {
    "group_ids": ["group_id1", "group_id2"],
    "user_ids": ["user_id1", "user_id2"]
  },
  "write": {
    "group_ids": ["group_id1", "group_id2"],
    "user_ids": ["user_id1", "user_id2"]
  }
}
```

## ë©”ëª¨ë¦¬ í…Œì´ë¸”

| **ì—´ ì´ë¦„**     | **ë°ì´í„° íƒ€ì…** | **ì œì•½ ì¡°ê±´**   | **ì„¤ëª…**                   |
| --------------- | ------------- | --------------- | ------------------------ |
| id              | String        | PRIMARY KEY     | ê³ ìœ  ì‹ë³„ì (UUID)         |
| user_id         | String        | -               | ë©”ëª¨ ì†Œìœ ì                |
| content         | Text          | -               | ë©”ëª¨ ë‚´ìš©                  |
| created_at      | BigInteger    | -               | ìƒì„± íƒ€ì„ìŠ¤íƒ¬í”„            |
| updated_at      | BigInteger    | -               | ë§ˆì§€ë§‰ ì—…ë°ì´íŠ¸ íƒ€ì„ìŠ¤íƒ¬í”„  |

## ë©”ì‹œì§€ í…Œì´ë¸”

| **ì—´ ì´ë¦„**     | **ë°ì´í„° íƒ€ì…** | **ì œì•½ ì¡°ê±´**   | **ì„¤ëª…**                                 |
| --------------- | ------------- | --------------- | ----------------------------------- |
| id              | Text          | PRIMARY KEY     | ê³ ìœ  ì‹ë³„ì (UUID)                   |
| user_id         | Text          | -               | ë©”ì‹œì§€ ì‘ì„±ì                        |
| channel_id      | Text          | nullable        | ê´€ë ¨ ì±„ë„                            |
| parent_id       | Text          | nullable        | ìŠ¤ë ˆë“œë¥¼ ìœ„í•œ ë¶€ëª¨ ë©”ì‹œì§€            |
| content         | Text          | -               | ë©”ì‹œì§€ ë‚´ìš©                          |
| data            | JSON          | nullable        | ì¶”ê°€ ë©”ì‹œì§€ ë°ì´í„°                   |
| meta            | JSON          | nullable        | ë©”ì‹œì§€ ë©”íƒ€ë°ì´í„°                    |
| created_at      | BigInteger    | -               | ìƒì„± íƒ€ì„ìŠ¤íƒ¬í”„ (ë‚˜ë…¸ì´ˆ)             |
| updated_at      | BigInteger    | -               | ë§ˆì§€ë§‰ ì—…ë°ì´íŠ¸ íƒ€ì„ìŠ¤íƒ¬í”„ (ë‚˜ë…¸ì´ˆ)   |

## ë©”ì‹œì§€ ë°˜ì‘ í…Œì´ë¸”

| **ì—´ ì´ë¦„**     | **ë°ì´í„° íƒ€ì…** | **ì œì•½ ì¡°ê±´**   | **ì„¤ëª…**                   |
| --------------- | ------------- | --------------- | ------------------------ |
| id              | Text          | PRIMARY KEY     | ê³ ìœ  ì‹ë³„ì (UUID)         |
| user_id         | Text          | -               | ë°˜ì‘í•œ ì‚¬ìš©ì              |
| message_id      | Text          | -               | ê´€ë ¨ ë©”ì‹œì§€                |
| name            | Text          | -               | ë°˜ì‘ ì´ë¦„/ì´ëª¨ì§€          |
| created_at      | BigInteger    | -               | ë°˜ì‘ íƒ€ì„ìŠ¤íƒ¬í”„            |

## ëª¨ë¸ í…Œì´ë¸”

| **ì—´ ì´ë¦„**     | **ë°ì´í„° íƒ€ì…** | **ì œì•½ ì¡°ê±´**   | **ì„¤ëª…**                  |
| --------------- | ------------- | --------------- | ---------------------- |
| id              | Text          | PRIMARY KEY     | ëª¨ë¸ ì‹ë³„ì               |
| user_id         | Text          | -               | ëª¨ë¸ ì†Œìœ ì               |
| base_model_id   | Text          | nullable        | ë¶€ëª¨ ëª¨ë¸ ì°¸ì¡°             |
| name            | Text          | -               | ë””ìŠ¤í”Œë ˆì´ ì´ë¦„           |
| params          | JSON          | -               | ëª¨ë¸ ë§¤ê°œë³€ìˆ˜             |
| meta            | JSON          | -               | ëª¨ë¸ ë©”íƒ€ë°ì´í„°           |
| access_control  | JSON          | nullable        | ì ‘ê·¼ ê¶Œí•œ                 |
| is_active       | Boolean       | default=True    | í™œì„± ìƒíƒœ                 |
| created_at      | BigInteger    | -               | ìƒì„± íƒ€ì„ìŠ¤íƒ¬í”„            |
| updated_at      | BigInteger    | -               | ë§ˆì§€ë§‰ ì—…ë°ì´íŠ¸ íƒ€ì„ìŠ¤íƒ¬í”„  |

## í”„ë¡¬í”„íŠ¸ í…Œì´ë¸”

| **ì—´ ì´ë¦„**     | **ë°ì´í„° íƒ€ì…** | **ì œì•½ ì¡°ê±´**   | **ì„¤ëª…**                     |
| --------------- | ------------- | --------------- | ------------------------- |
| command         | String        | PRIMARY KEY     | ê³ ìœ  ì»¤ë§¨ë“œ ì‹ë³„ì           |
| user_id         | String        | -               | í”„ë¡¬í”„íŠ¸ ì†Œìœ ì              |
| title           | Text          | -               | í”„ë¡¬í”„íŠ¸ ì œëª©               |
| content         | Text          | -               | í”„ë¡¬í”„íŠ¸ ë‚´ìš©/í…œí”Œë¦¿         |
| timestamp       | BigInteger    | -               | ë§ˆì§€ë§‰ ì—…ë°ì´íŠ¸ íƒ€ì„ìŠ¤íƒ¬í”„    |
| access_control  | JSON          | nullable        | ì ‘ê·¼ ê¶Œí•œ                   |

## íƒœê·¸ í…Œì´ë¸”

| **ì—´ ì´ë¦„**         | **ë°ì´í„° ìœ í˜•**  | **ì œì•½ ì¡°ê±´**      | **ì„¤ëª…**                |
| ------------------ | --------------- | ------------------ | ------------------------ |
| id                 | String          | PK (ë³µí•© í‚¤)       | ì •ê·œí™”ëœ íƒœê·¸ ì‹ë³„ì    |
| name               | String          | -                  | í‘œì‹œ ì´ë¦„               |
| user_id            | String          | PK (ë³µí•© í‚¤)       | íƒœê·¸ ì†Œìœ ì             |
| meta               | JSON            | nullable           | íƒœê·¸ ë©”íƒ€ë°ì´í„°          |

íƒœê·¸ í…Œì´ë¸”ì— ëŒ€í•œ ì£¼ì˜ì‚¬í•­:

- ê¸°ë³¸ í‚¤ëŠ” ë³µí•© í‚¤ (id, user_id) ì…ë‹ˆë‹¤.

## ë„êµ¬ í…Œì´ë¸”

| **ì—´ ì´ë¦„**         | **ë°ì´í„° ìœ í˜•**  | **ì œì•½ ì¡°ê±´**      | **ì„¤ëª…**                |
| ------------------ | --------------- | ------------------ | ------------------------ |
| id                 | String          | PRIMARY KEY        | ê³ ìœ  ì‹ë³„ì              |
| user_id            | String          | -                  | ë„êµ¬ ì†Œìœ ì              |
| name               | Text            | -                  | ë„êµ¬ ì´ë¦„                |
| content            | Text            | -                  | ë„êµ¬ ë‚´ìš©/ì½”ë“œ             |
| specs             | JSON            | -                  | ë„êµ¬ ì‚¬ì–‘               |
| meta               | JSON            | -                  | ë„êµ¬ ë©”íƒ€ë°ì´í„°          |
| valves            | JSON            | -                  | ë„êµ¬ ì œì–´ ì„¤ì •           |
| access_control    | JSON            | nullable           | ì ‘ê·¼ ê¶Œí•œ                |
| created_at        | BigInteger      | -                  | ìƒì„± ì‹œê°„æˆ“            |
| updated_at        | BigInteger      | -                  | ë§ˆì§€ë§‰ ì—…ë°ì´íŠ¸ ì‹œê°„     |

## ì‚¬ìš©ì í…Œì´ë¸”

| **ì—´ ì´ë¦„**             | **ë°ì´í„° ìœ í˜•**  | **ì œì•½ ì¡°ê±´**       | **ì„¤ëª…**                |
| ---------------------- | --------------- | ------------------ | ------------------------ |
| id                   | String          | PRIMARY KEY        | ê³ ìœ  ì‹ë³„ì              |
| name                 | String          | -                  | ì‚¬ìš©ìì˜ ì´ë¦„            |
| email                | String          | -                  | ì‚¬ìš©ìì˜ ì´ë©”ì¼          |
| role                 | String          | -                  | ì‚¬ìš©ìì˜ ì—­í•             |
| profile_image_url    | Text            | -                  | í”„ë¡œí•„ ì´ë¯¸ì§€ ê²½ë¡œ        |
| last_active_at       | BigInteger      | -                  | ë§ˆì§€ë§‰ í™œë™ ì‹œê°„         |
| updated_at           | BigInteger      | -                  | ë§ˆì§€ë§‰ ì—…ë°ì´íŠ¸ ì‹œê°„     |
| created_at           | BigInteger      | -                  | ìƒì„± ì‹œê°„æˆ“            |
| api_key              | String          | UNIQUE, nullable   | API ì¸ì¦ í‚¤         |
| settings             | JSON            | nullable           | ì‚¬ìš©ì ì„ í˜¸ ì„¤ì •         |
| info                 | JSON            | nullable           | ì¶”ê°€ ì‚¬ìš©ì ì •ë³´         |
| oauth_sub            | Text            | UNIQUE             | OAuth ì£¼ì œ ì‹ë³„ì         |

# ì—”í‹°í‹° ê´€ê³„ ë‹¤ì´ì–´ê·¸ë¨

í…Œì´ë¸” ê°„ì˜ ê´€ê³„ë¥¼ ì‹œê°í™”í•˜ë ¤ë©´ ì•„ë˜ì˜ Mermaidë¡œ ìƒì„±ëœ ì—”í‹°í‹° ê´€ê³„ ë‹¤ì´ì–´ê·¸ë¨(ERD)ì„ ì°¸ì¡°í•˜ì„¸ìš”.

```mermaid
erDiagram
    %% ì‚¬ìš©ì ë° ì¸ì¦
    user ||--o{ auth : "has"
    user ||--o{ chat : "owns"
    user ||--o{ channel : "owns"
    user ||--o{ message : "creates"
    user ||--o{ folder : "owns"
    user ||--o{ file : "owns"
    user ||--o{ feedback : "provides"
    user ||--o{ function : "manages"
    user ||--o{ group : "manages"
    user ||--o{ knowledge : "manages"
    user ||--o{ memory : "owns"
    user ||--o{ model : "manages"
    user ||--o{ prompt : "creates"
    user ||--o{ tag : "creates"
    user ||--o{ tool : "manages"

    %% ì»¨í…ì¸  ê´€ê³„
    message ||--o{ message_reaction : "has"
    chat ||--o{ tag : "tagged_with"
    chat }|--|| folder : "organized_in"
    channel ||--o{ message : "contains"
    message ||--o{ message : "replies"

    user {
        string id PK
        string name
        string email
        string role
        text profile_image_url
        bigint last_active_at
        string api_key
        json settings
        json info
        text oauth_sub
    }

    auth {
        string id PK
        string email
        text password
        boolean active
    }

    chat {
        string id PK
        string user_id FK
        string title
        json chat
        text share_id
        boolean archived
        boolean pinned
        json meta
        text folder_id FK
    }

    channel {
        text id PK
        text user_id FK
        text name
        text description
        json data
        json meta
        json access_control
    }

    message {
        text id PK
        text user_id FK
        text channel_id FK
        text parent_id FK
        text content
        json data
        json meta
    }

    message_reaction {
        text id PK
        text user_id FK
        text message_id FK
        text name
    }

    feedback {
        text id PK
        text user_id FK
        bigint version
        text type
        json data
        json meta
        json snapshot
    }

    file {
        string id PK
        string user_id FK
        text hash
        text filename
        text path
        json data
        json meta
        json ì ‘ê·¼_ì œì–´
    }

    í´ë” {
        í…ìŠ¤íŠ¸ id PK
        í…ìŠ¤íŠ¸ parent_id FK
        í…ìŠ¤íŠ¸ user_id FK
        í…ìŠ¤íŠ¸ ì´ë¦„
        json í•­ëª©
        json ë©”íƒ€
        boolean í™•ì¥ë¨
    }

    í•¨ìˆ˜ {
        ë¬¸ìì—´ id PK
        ë¬¸ìì—´ user_id FK
        í…ìŠ¤íŠ¸ ì´ë¦„
        í…ìŠ¤íŠ¸ ì½˜í…ì¸ 
        json ë©”íƒ€
        json ë°¸ë¸Œ
        boolean í™œì„±í™”ë¨
        boolean ê¸€ë¡œë²Œ
    }

    ê·¸ë£¹ {
        í…ìŠ¤íŠ¸ id PK
        í…ìŠ¤íŠ¸ user_id FK
        í…ìŠ¤íŠ¸ ì´ë¦„
        í…ìŠ¤íŠ¸ ì„¤ëª…
        json ë°ì´í„°
        json ë©”íƒ€
        json ê¶Œí•œ
        json ì‚¬ìš©ì_id
    }

    ì§€ì‹ {
        í…ìŠ¤íŠ¸ id PK
        í…ìŠ¤íŠ¸ user_id FK
        í…ìŠ¤íŠ¸ ì´ë¦„
        í…ìŠ¤íŠ¸ ì„¤ëª…
        json ë°ì´í„°
        json ë©”íƒ€
        json ì ‘ê·¼_ì œì–´
    }

    ê¸°ì–µ {
        ë¬¸ìì—´ id PK
        ë¬¸ìì—´ user_id FK
        í…ìŠ¤íŠ¸ ì½˜í…ì¸ 
    }

    ëª¨ë¸ {
        í…ìŠ¤íŠ¸ id PK
        í…ìŠ¤íŠ¸ user_id FK
        í…ìŠ¤íŠ¸ base_model_id FK
        í…ìŠ¤íŠ¸ ì´ë¦„
        json ë§¤ê°œë³€ìˆ˜
        json ë©”íƒ€
        json ì ‘ê·¼_ì œì–´
        boolean í™œì„±í™”ë¨
    }

    í”„ë¡¬í”„íŠ¸ {
        ë¬¸ìì—´ ëª…ë ¹ PK
        ë¬¸ìì—´ user_id FK
        í…ìŠ¤íŠ¸ ì œëª©
        í…ìŠ¤íŠ¸ ì½˜í…ì¸ 
        json ì ‘ê·¼_ì œì–´
    }

    íƒœê·¸ {
        ë¬¸ìì—´ id PK "ë³µí•©ì²´"
        ë¬¸ìì—´ user_id PK "ë³µí•©ì²´"
        ë¬¸ìì—´ ì´ë¦„
        json ë©”íƒ€
    }

    ë„êµ¬ {
        ë¬¸ìì—´ id PK
        ë¬¸ìì—´ user_id FK
        í…ìŠ¤íŠ¸ ì´ë¦„
        í…ìŠ¤íŠ¸ ì½˜í…ì¸ 
        json ì‚¬ì–‘
        json ë©”íƒ€
        json ë°¸ë¸Œ
        json ì ‘ê·¼_ì œì–´
    }
```
