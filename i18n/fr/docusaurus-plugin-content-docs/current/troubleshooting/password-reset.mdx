---
sidebar_position: 1
title: "üîë R√©initialiser le mot de passe administrateur"
---

# R√©initialisation de votre mot de passe administrateur üóùÔ∏è

Si vous avez oubli√© votre mot de passe administrateur, ne vous inqui√©tez pas ! Vous trouverez ci-dessous des guides √©tape par √©tape pour r√©initialiser votre mot de passe administrateur pour les d√©ploiements Docker üê≥ et les installations locales d'Open WebUI.

## Pour les d√©ploiements Docker üê≥

Suivez ces √©tapes pour r√©initialiser le mot de passe administrateur d'Open WebUI lorsque celui-ci est d√©ploy√© √† l'aide de Docker.

### √âtape 1 : G√©n√©rer un nouveau hachage de mot de passe üîê

Tout d'abord, vous devez cr√©er un hachage bcrypt de votre nouveau mot de passe. Ex√©cutez la commande suivante sur votre machine locale en rempla√ßant `your-new-password` par le mot de passe que vous souhaitez utiliser :

```bash
htpasswd -bnBC 10 "" your-new-password | tr -d :\n
```

**Remarque :** La sortie inclura un hachage bcrypt avec des caract√®res sp√©ciaux qui doivent √™tre manipul√©s avec pr√©caution. Tous les caract√®res `$` dans le hachage devront √™tre triple √©chapp√©s (remplac√©s par `\\\`) pour √™tre correctement utilis√©s dans l'√©tape suivante.

### √âtape 2 : Mettre √† jour le mot de passe dans Docker üîÑ

Ensuite, vous mettrez √† jour le mot de passe dans votre d√©ploiement Docker. Remplacez `HASH` dans la commande ci-dessous par le hachage bcrypt g√©n√©r√© √† l'√©tape 1, en vous assurant de triple √©chapper tous les caract√®res `$`. Remplacez √©galement `admin@example.com` par l'adresse email li√©e √† votre compte administrateur.

**Important :** La commande suivante peut ne pas fonctionner dans tous les cas. Si cela ne fonctionne pas pour vous, essayez la commande alternative ci-dessous.

```bash
docker run --rm -v open-webui:/data alpine/socat EXEC:"bash -c apk add sqlite && echo UPDATE auth SET password=\HASH\ WHERE email=\admin@example.com\; | sqlite3 /data/webui.db", STDIO
```

## Pour les installations locales üíª

Si vous avez une installation locale d'Open WebUI, voici comment vous pouvez r√©initialiser votre mot de passe administrateur directement sur votre syst√®me.

### √âtape 1 : G√©n√©rer un nouveau hachage de mot de passe üîê

Comme avec la m√©thode Docker, commencez par g√©n√©rer un hachage bcrypt de votre nouveau mot de passe en utilisant la commande suivante. N'oubliez pas de remplacer `your-new-password` par votre nouveau mot de passe :

```bash
htpasswd -bnBC 10 "" your-new-password | tr -d :\n
```

### √âtape 2 : Mettre √† jour localement le mot de passe üîÑ

Maintenant, acc√©dez au r√©pertoire `open-webui` sur votre machine locale. Mettez √† jour votre mot de passe en rempla√ßant `HASH` par le hachage bcrypt de l'√©tape 1 et `admin@example.com` par l'email de votre compte administrateur, puis ex√©cutez :

```bash
sqlite3 backend/data/webui.db "UPDATE auth SET password=HASH WHERE email=admin@example.com;"
```


#### M√©thode Docker alternative

_Si vous rencontrez des probl√®mes avec ce qui pr√©c√®de._ J'ai rencontr√© des probl√®mes en encha√Ænant les commandes `bash` dans `alpine/socat`, _car `bash` n'existe pas._

1. **Ex√©cutez une instance Linux `alpine` connect√©e au volume `open-webui`.**

    ```bash
    docker run -it --rm -v open-webui:/path/to/data alpine
    ```
    _`/path/to/data` d√©pend de vos param√®tres de volume._

    1. Installez `apache2-utils` et `sqlite` :

        ```sh
        apk add apache2-utils sqlite
        ```
    1. G√©n√©rez le hachage `bcrypt` :

        ```sh
        htpasswd -bnBC 10 "" your-new-password | tr -d :
        ```

    1. Mettez √† jour le mot de passe :

        ```sh
        sqlite3 /path/to/data/webui.db
        ```

        ```sql
        UPDATE auth SET password=HASH WHERE email=admin@example.com;
        -- quittez sqlite : [Ctrl + d]
        ```
## Remise √† z√©ro compl√®te des donn√©es

Si vous souhaitez **recommencer compl√®tement** Open WebUI‚Äîy compris toutes les donn√©es utilisateur, param√®tres et mots de passe‚Äîsuivez ces √©tapes pour supprimer le fichier `webui.db`.

### √âtape 1 : Localiser `webui.db` dans votre environnement Python

Si vous ne savez pas o√π se trouve `webui.db` (notamment si vous utilisez un environnement virtuel), vous pouvez le localiser en suivant ces √©tapes :

1. Activez votre environnement virtuel (si applicable).
2. Ouvrez un shell Python :
   python

3. Ex√©cutez le code suivant dans le shell Python :
```
   import os
   import open_webui

   # Montrez o√π le paquet Open WebUI est install√©
   print("Open WebUI est install√© √† :", open_webui.__file__)

   # Construisez un chemin potentiel vers webui.db (g√©n√©ralement situ√© dans 'data/webui.db')
   db_path = os.path.join(os.path.dirname(open_webui.__file__), "data", "webui.db")
   print("Chemin potentiel vers webui.db :", db_path)

   # V√©rifiez si webui.db existe √† ce chemin
   if os.path.exists(db_path):
       print("webui.db trouv√© √† :", db_path)
   else:
       print("webui.db introuvable √† :", db_path)
```
4. Examinez la sortie :
   - Si le fichier est trouv√©, vous verrez son chemin exact.
   - Sinon, vous devrez peut-√™tre effectuer une recherche plus large sur le syst√®me de fichiers (par exemple, en utilisant `find` sous Linux ou une recherche globale de fichiers sous Windows/Mac).

### √âtape 2 : Supprimer `webui.db`

Une fois le fichier localis√©, supprimez-le en utilisant une commande similaire √† :

```
   rm -rf /path/to/your/python/environment/lib/pythonX.X/site-packages/open_webui/data/webui.db
```

**Avertissement :** Supprimer `webui.db` entra√Æne la suppression de toutes les donn√©es enregistr√©es, y compris les comptes utilisateur, param√®tres et mots de passe. Ne faites cela que si vous voulez vraiment repartir de z√©ro !

        

