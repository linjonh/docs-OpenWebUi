---
sidebar_position: 300 
title: "ğŸ”„ æ›´æ–° Open WebUI"
---



## ç‚ºä»€éº¼æˆ‘çš„ Open WebUI æ²’æœ‰æ›´æ–°?

è¦å°‡ä½ çš„ Open WebUI çš„æœ¬åœ° Docker å®‰è£æ›´æ–°è‡³æœ€æ–°ç‰ˆæœ¬ï¼Œå¯ä»¥ä½¿ç”¨ **Watchtower** æˆ–æ‰‹å‹•æ›´æ–°å®¹å™¨ã€‚æŒ‰ç…§ä¸‹é¢æä¾›çš„æ­¥é©Ÿï¼Œç­è§£å¦‚ä½•æ›´æ–°ç¾æœ‰çš„ Open WebUI æ˜ åƒã€‚

### æ‰‹å‹•æ›´æ–°

1. **åœæ­¢ä¸¦ç§»é™¤ç•¶å‰å®¹å™¨**:

   é€™å°‡åœæ­¢æ­£åœ¨é‹è¡Œçš„å®¹å™¨ä¸¦ç§»é™¤å®ƒï¼Œä½†ä¸æœƒåˆªé™¤ Docker å·ä¸­å­˜å„²çš„æ•¸æ“šã€‚ï¼ˆå¦‚æœä½ çš„å®¹å™¨åç¨±ä¸åŒï¼Œå‰‡å°‡ `open-webui` æ›¿æ›ç‚ºä½ çš„å®¹å™¨åç¨±ã€‚ï¼‰

```bash
docker rm -f open-webui
```

2. **æ‹‰å–æœ€æ–°çš„ Docker æ˜ åƒ**:

   é€™å°‡æ›´æ–° Docker æ˜ åƒï¼Œä½†ä¸æœƒæ›´æ–°æ­£åœ¨é‹è¡Œçš„å®¹å™¨æˆ–å…¶æ•¸æ“šã€‚

```bash
docker pull ghcr.io/open-webui/open-webui:main
```


:::info
**ç§»é™¤ Docker å·ä¸­çš„ä»»ä½•ç¾æœ‰æ•¸æ“šï¼ˆä¸æ¨è–¦ï¼Œé™¤éçµ•å°å¿…è¦ï¼ï¼‰**ã€‚å¦‚æœä¸éœ€è¦ï¼Œå‰‡å®Œå…¨è·³éæ­¤æ­¥é©Ÿä¸¦é€²å…¥æœ€å¾Œä¸€æ­¥ï¼š

   å¦‚æœä½ å¸Œæœ›é‡æ–°é–‹å§‹ï¼Œä½ å¯ä»¥ç§»é™¤ Docker å·ä¸­çš„ç¾æœ‰æ•¸æ“šã€‚è«‹å°å¿ƒæ“ä½œï¼Œå› ç‚ºé€™å°‡åˆªé™¤æ‰€æœ‰çš„èŠå¤©æ­·å²å’Œå…¶ä»–æ•¸æ“šã€‚

   æ•¸æ“šå­˜å„²åœ¨åç‚º `open-webui` çš„ Docker å·ä¸­ã€‚ä½ å¯ä»¥ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤ç§»é™¤è©²å·ï¼š

```bash
docker volume rm open-webui
```
:::

3. **ä½¿ç”¨æ›´æ–°çš„æ˜ åƒå’Œé™„åŠ çš„ç¾æœ‰å·é‡æ–°å•Ÿå‹•å®¹å™¨**:

   å¦‚æœä½ æ²’æœ‰ç§»é™¤ç¾æœ‰æ•¸æ“šï¼Œé€™å°‡ä½¿ç”¨æ›´æ–°çš„æ˜ åƒå’Œç¾æœ‰æ•¸æ“šå•Ÿå‹•å®¹å™¨ã€‚å¦‚æœä½ ç§»é™¤äº†ç¾æœ‰æ•¸æ“šï¼Œé€™å°‡ä½¿ç”¨æ›´æ–°çš„æ˜ åƒå’Œæ–°çš„ç©ºå·å•Ÿå‹•å®¹å™¨ã€‚**å¦‚éœ€ Nvidia GPU æ”¯æŒï¼Œè«‹åœ¨ docker é‹è¡Œå‘½ä»¤ä¸­æ·»åŠ  `--gpus all`**

```bash
docker run -d -p 3000:8080 -v open-webui:/app/backend/data --name open-webui ghcr.io/open-webui/open-webui:main
```

## æ¯æ¬¡æ›´æ–°å¾Œéƒ½è¢«ç™»å‡º?
å¦‚æœä½ åœ¨æ¯æ¬¡æ›´æ–°å¾Œéƒ½è¢«è‡ªå‹•ç™»å‡ºï¼Œè«‹ç¢ºä¿åœ¨ç’°å¢ƒè®Šé‡ä¸­è¨­ç½®äº† `WEBUI_SECRET_KEY`ã€‚å¦‚æœé€™å€‹å¯†é‘°æœªè¢«ä¸€è‡´å®šç¾©ï¼Œä½ çš„èº«ä»½é©—è­‰æœƒè©±å¯èƒ½åœ¨æ›´æ–°å¾Œå¤±æ•ˆã€‚

è¦æŒä¹…è¨­ç½® `WEBUI_SECRET_KEY`ï¼Œåœ¨é‹è¡Œ Docker å®¹å™¨æ™‚åŒ…å«æ­¤å¯†é‘°ï¼š

```bash
docker run -d -p 3000:8080 -v open-webui:/app/backend/data --name open-webui -e WEBUI_SECRET_KEY=your_secret_key ghcr.io/open-webui/open-webui:main
```

æˆ–è€…ï¼Œå¦‚æœä½¿ç”¨ **docker-compose**ï¼Œè«‹å°‡å…¶æ·»åŠ åˆ° `environment` éƒ¨åˆ†ä¸‹ï¼š

```yml
version: '3'
services:
  open-webui:
    image: ghcr.io/open-webui/open-webui:main
    ports:
      - "3000:8080"
    volumes:
      - open-webui:/app/backend/data
    environment:
      - WEBUI_SECRET_KEY=your_secret_key
```

æœ‰é—œç’°å¢ƒè®Šé‡è¨­ç½®çš„æ›´å¤šè©³ç´°ä¿¡æ¯ï¼Œè«‹åƒé–± [Open WebUI æ–‡æª”ä¸­çš„å®‰å…¨è®Šé‡](https://docs.openwebui.com/getting-started/env-configuration#security-variables)ã€‚

## ä½¿ç”¨ Watchtower è‡ªå‹•æ›´æ–° Open WebUI

ä½ å¯ä»¥ä½¿ç”¨ [Watchtower](https://containrrr.dev/watchtower/) è‡ªå‹•åŒ– Open WebUI çš„æ›´æ–°éç¨‹ã€‚ä»¥ä¸‹æ˜¯ä¸‰ç¨®é¸é …ï¼š

### é¸é … 1ï¼šä¸€æ¬¡æ€§æ›´æ–°

ä½ å¯ä»¥é‹è¡Œ Watchtower ä½œç‚ºä¸€æ¬¡æ€§æ›´æ–°ï¼Œåœæ­¢ç•¶å‰å®¹å™¨ï¼Œæ‹‰å–æœ€æ–°æ˜ åƒï¼Œä¸¦ä½¿ç”¨æ›´æ–°çš„æ˜ åƒå’Œç¾æœ‰å·é‡æ–°å•Ÿå‹•å®¹å™¨ã€‚ï¼ˆ**å¦‚éœ€ Nvidia GPU æ”¯æŒï¼Œè«‹åœ¨ docker é‹è¡Œå‘½ä»¤ä¸­æ·»åŠ  `--gpus all`**ï¼‰ï¼š

```bash
docker run --rm --volume /var/run/docker.sock:/var/run/docker.sock containrrr/watchtower --run-once open-webui
```

### é¸é … 2ï¼šä½œç‚ºå–®ç¨å®¹å™¨é‹è¡Œ Watchtower

ä½ å¯ä»¥å°‡ Watchtower ä½œç‚ºå–®ç¨çš„å®¹å™¨é‹è¡Œï¼Œç›£æ§ä¸¦æ›´æ–°ä½ çš„ Open WebUI å®¹å™¨ï¼š

```bash
docker run -d --name watchtower \
  --volume /var/run/docker.sock:/var/run/docker.sock \
  containrrr/watchtower -i 300 open-webui
```

é€™å°‡åœ¨åˆ†é›¢æ¨¡å¼ä¸‹å•Ÿå‹• Watchtowerï¼Œæ¯ 5 åˆ†é˜ç›£è¦–ä½ çš„ Open WebUI å®¹å™¨çš„æ›´æ–°ã€‚

### é¸é … 3ï¼šå°‡ Watchtower é›†æˆåˆ° `docker-compose.yml` æ–‡ä»¶ä¸­

ä½ é‚„å¯ä»¥å°‡ Watchtower é›†æˆåˆ° `docker-compose.yml` æ–‡ä»¶ä¸­ï¼Œç‚º Open WebUI è‡ªå‹•åŒ–æ›´æ–°ã€‚ï¼ˆ**å¦‚éœ€ Nvidia GPU æ”¯æŒï¼Œè«‹åœ¨ docker é‹è¡Œå‘½ä»¤ä¸­æ·»åŠ  `--gpus all`**ï¼‰ï¼š

```yml
version: '3'
services:
  open-webui:
    image: ghcr.io/open-webui/open-webui:main
    ports:
      - "3000:8080"
    volumes:
      - open-webui:/app/backend/data

  watchtower:
    image: containrrr/watchtower
    volumes:
      - /var/run/docker.sock:/var/run/docker.sock
    command: --interval 300 open-webui
    depends_on:
      - open-webui

volumes:
  open-webui:
```

åœ¨é€™å€‹ç¤ºä¾‹ä¸­ï¼ŒWatchtower é›†æˆåˆ°äº† `docker-compose.yml` æ–‡ä»¶ä¸­ï¼Œæ¯ 5 åˆ†é˜ç›£è¦– Open WebUI å®¹å™¨çš„æ›´æ–°ã€‚

## Docker å·ä¸­çš„æŒä¹…æ•¸æ“š

æ•¸æ“šå­˜å„²åœ¨åç‚º `open-webui` çš„ Docker å·ä¸­ã€‚è©²å·çš„è·¯å¾‘ç„¡æ³•ç›´æ¥è¨ªå•ï¼Œä½†ä½ å¯ä»¥ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤æª¢æŸ¥å·ï¼š

```bash
docker volume inspect open-webui
```

é€™å°‡é¡¯ç¤ºè©²å·çš„è©³ç´°ä¿¡æ¯ï¼ŒåŒ…æ‹¬æ›è¼‰é»ï¼Œé€šå¸¸ä½æ–¼ `/var/lib/docker/volumes/open-webui/_data`ã€‚

åœ¨ Windows 10 + WSL 2ï¼ŒDocker å·ä½æ–¼æ­¤è™•ï¼ˆåœ¨ Windows æ–‡ä»¶ç®¡ç†å™¨ä¸­è¼¸å…¥ï¼‰ï¼š
- \\\wsl$\docker-desktop\mnt\docker-desktop-disk\data\docker\volumes

å°æ–¼èˆŠç‰ˆæœ¬çš„ Dockerï¼ˆDocker v26.1.4 ä¹‹å‰ç‰ˆæœ¬ï¼‰ï¼š
- \\\wsl$\docker-desktop-data\data\docker\volumes
- \\\wsl$\docker-desktop-data\version-pack-data\community\docker\volumes

_ï¼ˆWindows ç­”æ¡ˆä¾†æºæ–¼ StackOverflow ç”¨æˆ¶ sarye-haddadiï¼›[StackOverflow åŸå§‹å¸–å­é€£çµ](https://stackoverflow.com/questions/43181654/locating-data-volumes-in-docker-desktop-windows)ï¼‰_
