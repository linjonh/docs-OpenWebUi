---
sidebar_position: 2
title: "🎙️ 解决麦克风访问问题"
---

确保您的应用程序具有正确的麦克风访问权限对于依赖音频输入的功能至关重要。本指南介绍如何管理和解决麦克风权限问题，特别是在安全上下文中。

## 了解安全上下文 🔒

出于安全原因，麦克风访问仅限于通过 HTTPS 或从 `localhost` 本地提供的页面。这项要求旨在通过确保数据通过安全通道进行传输来保护您的数据。

## 常见的权限问题 🚫

诸如 Chrome、Brave、Microsoft Edge、Opera 和 Vivaldi 以及 Firefox 等浏览器会限制非 HTTPS URL 上的麦克风访问。这通常会在从同一网络中的另一设备访问网站时出现问题（例如，使用手机访问桌面服务器）。以下是解决这些问题的方法：

### 非 HTTPS 连接的解决方案

1. **设置 HTTPS:**
   - 强烈建议配置您的服务器以支持 HTTPS。这不仅可以解决权限问题，还可以增强数据传输的安全性。

2. **临时浏览器标志（谨慎使用）:**
   - 这些设置会强制您的浏览器将某些不安全的 URL 视为安全的。这对于开发用途非常有用，但存在重大安全风险。以下是针对主流浏览器调整这些设置的方法：

   #### 基于 Chromium 的浏览器（如 Chrome、Brave）
   - 打开 `chrome://flags/#unsafely-treat-insecure-origin-as-secure`。
   - 输入您的非 HTTPS 地址（例如，`http://192.168.1.35:3000`）。
   - 重启浏览器以应用更改。

   #### 基于 Firefox 的浏览器
   - 打开 `about:config`。
   - 搜索并修改（或创建）字符串值 `dom.securecontext.allowlist`。
   - 添加您的 IP 地址，用逗号分隔（例如，`http://127.0.0.1:8080`）。

### 注意事项和风险 🚨

尽管浏览器标志提供了一种快捷的解决方法，但它们会绕过重要的安全检查，从而使您的设备和数据易受漏洞侵害。在规划生产环境时，请始终优先考虑正确的安全措施。

通过遵循这些最佳实践，您可以确保应用程序正确访问麦克风，同时维护数据的安全性和完整性。