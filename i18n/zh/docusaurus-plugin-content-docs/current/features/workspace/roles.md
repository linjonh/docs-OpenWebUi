---
sidebar_position: 3
title: "🔑 角色"
---

Open WebUI 实现了一个结构化的基于角色的访问控制系统，包括三个主要用户角色：

| **角色**      | **描述**                                         | **默认创建**                     |
|---------------|-------------------------------------------------|----------------------------------|
| 管理员        | 拥有完全控制权限的系统管理员                     | 第一个用户账户                  |
| 普通用户      | 具有有限权限的普通用户                           | 后续批准的用户                  |
| 待处理        | 未批准的用户，等待管理员激活                     | 新注册用户（可配置）            |

### 角色分配

* **第一个用户：** 在新的 Open WebUI 实例中创建的第一个账户会自动获得管理员权限。
* **后续用户：** 新注册用户的默认角色根据 `DEFAULT_USER_ROLE` 配置进行分配。

新注册用户的默认角色可以通过 `DEFAULT_USER_ROLE` 环境变量配置：

```.dotenv
DEFAULT_USER_ROLE=pending  # 选项: pending, user, admin
```

当设置为 "pending" 时，新用户必须通过管理员手动批准才能获得系统访问权限。

## 用户组

用户组允许管理员：
* 一次性为多个用户分配权限，从而简化访问管理
* 通过将资源的访问权限设置为 "私有" 然后开放特定组的访问权限，限制特定资源（模型、工具等）的访问
* 对资源的组访问权限可以设置为 "读取" 或 "写入"

### 用户组结构

Open WebUI 中的每个组包括：

* 唯一标识符
* 名称和描述
* 所有者/创建者引用
* 成员用户 ID 列表
* 权限配置
* 附加元数据

### 用户组管理

用户组可以：

* **由管理员手动创建** 在用户界面中
* **从 OAuth 提供程序自动同步** 当启用 `ENABLE_OAUTH_GROUP_MANAGEMENT` 时
* **从 OAuth 声明中自动创建** 当同时启用 `ENABLE_OAUTH_GROUP_MANAGEMENT` 和 `ENABLE_OAUTH_GROUP_CREATION` 时

### OAuth 用户组集成

当启用 OAuth 用户组管理时，用户组成员关系会与 OAuth 声明中收到的组进行同步：

* 用户会被添加到与其 OAuth 声明匹配的 Open WebUI 用户组中
* 用户会被移除与其 OAuth 声明中不存在的组
* 启用 `ENABLE_OAUTH_GROUP_CREATION` 时，OAuth 声明中不存在于 Open WebUI 的组会被自动创建
